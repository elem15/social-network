{"version":3,"sources":["components/Common/Follow/Follow.tsx","redux/dialog-reducer.ts","utils/validators.js","components/Music/Music.module.css","components/Common/Preloader/Preloader.module.css","components/Profile/ProfileHead/ProfileHead.module.css","components/Profile/Profile.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Login/LiginForm.tsx","components/Login/LiginFormWithCaptcha.tsx","components/Login/Login.tsx","HOC/withAuthRedirect.js","redux/users-selectors.ts","api/api.js","components/Common/InputField/FormsControls.tsx","redux/auth-reducer.ts","components/Profile/ProfileInfo/ProfileInfo.module.css","reportWebVitals.js","components/News/News.tsx","components/Music/Music.tsx","redux/music-reducer.ts","components/Music/MusicContainer.tsx","components/Settings/Settings.tsx","components/Friends/FriendsItem/FriendsItem.tsx","components/Friends/Friends.tsx","components/Friends/FriendsContainer.tsx","components/Navbar/Navbar.tsx","components/Navbar/NavbarContainer.tsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","assets/images/add.svg","components/Profile/ProfileInfo/ProfileDataForm.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/ProfileHead/ProfileHead.jsx","redux/profile-reducer.ts","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Header/Header.tsx","components/Header/HeaderContainer.tsx","redux/app-reducer.ts","redux/sidebar-reducer.ts","redux/redux-store.ts","components/Login/LoginContainer.tsx","App.js","index.js","components/Common/InputField/FormsContorls.module.css","components/Navbar/Navbar.module.css","assets/images/audio.svg","components/Common/Preloader/Preloader.tsx","components/Friends/Friends.module.css","utils/object-helpers.js","redux/users-reducer.ts","components/Header/Header.module.css","components/Profile/MyPosts/Post/Post.module.css","assets/images/user.png"],"names":["Follow","followed","userId","isFollowingProgress","unFollow","follow","disabled","some","id","onClick","ADD_MESSAGE","initialState","dialogs","name","src","messages","message","st","randomInteger","Math","floor","random","addMessageActionCreator","newMessageBody","type","dialogReducer","state","action","position","length","countId","required","value","undefined","maxLength","max","maxLength15","maxLength33","module","exports","LoginForm","reduxForm","form","handleSubmit","submitting","error","onSubmit","Field","label","component","renderInput","validate","className","s","formSummaryError","LoginFormWithCaptcha","Login","submit","values","props","userSignIn","email","password","rememberMe","captcha","unSubmit","userSignOut","this","isAuth","to","captchaURL","alt","React","Component","mapStateToPropsRedirect","auth","withAuthRedirect","RedirectComponent","connect","ownUserName","selectUsers","createSelector","usersPage","users","allUsers","filter","user","getPageSize","pageSize","getTotalUsersCount","totalUsersCount","getCurrentPage","currentPage","getIsFetching","isFetching","getIsFollowingProgress","instance","axios","withCredentials","baseURL","headers","usersAPI","requestUsers","get","post","delete","getFollow","profileAPI","getProfile","getStatus","updateStatus","status","put","updateProfile","profile","uploadPhoto","photo","formData","FormData","append","authAPI","me","login","exit","securityAPI","renderField","input","meta","touched","warning","formControl","placeholder","SET_USER_DATA","GET_CAPTCHA_URL","serverMessage","setAuthUserData","payload","dispatch","a","response","data","resultCode","getCaptchaURL","stopSubmit","_error","url","authReducer","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","News","Composer","isLike","selectComposer","selectBestComposer","Music","composers","main","map","composer","SELECT_COMPOSER","musicReducer","u","MusicContainer","Form","e","preventDefault","console","log","Toggle","isToggleOn","handleClick","bind","setState","prevState","Settings","FriendsItem","bool","useState","isSubscribed","setSubscribed","item","button","Friends","friendsItems","friends","d","dialogItems","FriendsContainer","sidebar","Navbar","nav","activeClassName","activeLink","exact","friend","NavbarContainer","dialogPage","ProfileStatusWithHooks","editMode","setEditMode","setStatus","useEffect","isOwner","autoFocus","onBlur","onChange","currentTarget","ProfileDataReduxForm","Object","keys","contacts","key","style","contact","ProfileData","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","contactTitle","contactValue","Contact","ProfileInfo","setFollow","descriptionBlock","avatar","photos","large","userPhoto","class","inputWrapper","inputFile","target","files","savePhoto","htmlFor","inputFileButton","inputFileIconWrapper","inputFileIcon","arrow","inputFileButtonText","initialValues","Preloader","ProfileHead","memo","top","ADD_POST","SET_USER_PROFILE","SET_USER_FOLLOW","SET_USER_STATUS","DELETE_POST","SET_USER_PHOTO_SUCCESS","UPDATE_USER_PROFILE","posts","likeCount","newPostState","setUserStatus","getUserProfile","profileReducer","text","p","postId","FullName","AboutMe","Post","active","PostForm","onSubmitSuccess","result","reset","MyPosts","items","addPost","reverse","m","postPage","addPostActionCreator","Profile","MyPostsContainer","ProfileContainer","match","params","history","push","getUserFollow","setPreviousState","prevProps","snapshot","addPhoto","compose","photoFile","getLastResponseWorld","str","split","word","toLowerCase","slice","Promise","reject","withRouter","Header","header","image","loginBlock","HeaderContainer","INITIALIZATION_SUCCESSFUL","initialization","appReducer","sidebarReducer","rootReducer","combineReducers","initializeReducer","usersReducer","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","LoginContainer","UsersContainer","lazy","Dialogs","App","catchAllUnhandledErrors","reason","getInitialization","addEventListener","removeEventListener","path","render","fallback","pageTitle","AppContainer","promise","all","SamuraiJSApp","ReactDOM","document","getElementById","styles","preload","preloader","updateObjectInArray","itemId","objectProperty","newObjectProps","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","followSuccess","userID","unFollowSuccess","setCurrentPage","toggleIsFetching","toggleIsFollowingProgress","totalCount","combineFollowUnfollow","following","followingSuccess"],"mappings":"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","file":"static/js/main.62b95ad4.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\ntype PropsType = {\r\n    followed: boolean,\r\n    userId: number,\r\n    isFollowingProgress: number[],\r\n    unFollow: (userId: number) => void,\r\n    follow: (userId: number) => void\r\n}\r\nconst Follow: React.FC<PropsType> = ({ followed, userId, isFollowingProgress, unFollow, follow }) => {\r\n\r\n\r\n    return (\r\n        <div>\r\n            {followed\r\n                ? <button disabled={isFollowingProgress.some(id => id === userId)} onClick={() => {\r\n                    unFollow(userId);\r\n                }}>Unfollow</button>\r\n                : <button disabled={isFollowingProgress.some(id => id === userId)} onClick={() => {\r\n                    follow(userId);\r\n                }}>Follow</button>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Follow;","import {DialogsType, MessagesType} from \"../Types/Types\";\r\n\r\nconst ADD_MESSAGE = 'ADD_MESSAGE';\r\n\r\nconst initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Dima', src: 'https://avatarko.ru/img/avatar/9/serial_8759.jpg'},\r\n        {id: 2, name: 'Andrey', src: 'https://avatarko.ru/img/avatar/33/muzhchina_32048.jpg'},\r\n        {id: 3, name: 'Sveta', src: 'https://avatarko.ru/img/avatar/26/devushka_blondinka_kapyushon_25929.jpg'},\r\n        {id: 4, name: 'Sasha', src: 'https://avatarko.ru/img/avatar/5/devushka_4066.jpg'},\r\n        {id: 5, name: 'Victor', src: 'https://avatarko.ru/img/avatar/26/muzhchina_serfing_25374.jpg'},\r\n    ] as Array<DialogsType>,\r\n    messages: [\r\n        {id: 1, message: 'Hi!', name: 'Dima', st: 'active'},\r\n        {id: 2, message: 'How are you?', name: 'Andrey', st: \"passive\"},\r\n        {id: 3, message: 'Wow!', name: 'Sveta', st: 'active'},\r\n        {id: 4, message: 'Yo!', name: 'Sasha', st: 'passive'},\r\n        {id: 5, message: 'Yah!', name: 'Victor', st: 'active'},\r\n    ] as Array<MessagesType>\r\n}\r\n\r\nexport type initialStateActionType = typeof initialState;\r\n\r\nconst randomInteger = () => {\r\n    let rand = Math.floor(Math.random() * (4));\r\n    return rand;\r\n}\r\n\r\nconst dialogReducer = (state:initialStateActionType = initialState, action: any) : initialStateActionType => {\r\n\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            let position = '';\r\n            if (state.messages.length % 2 === 0) {\r\n                position = 'active';\r\n            } else {\r\n                position = 'passive'\r\n            }\r\n            let countId = state.messages.length + 1;\r\n            return {\r\n                ...state,\r\n                    messages: [...state.messages, {\r\n                    id: countId,\r\n                    message: action.newMessageBody,\r\n                    name: state.messages[randomInteger()].name,\r\n                    st: position\r\n                }]\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\ntype AddMessageActionCreatorType = {\r\n    type: typeof ADD_MESSAGE,\r\n    newMessageBody: string | null\r\n}\r\nexport const addMessageActionCreator = (newMessageBody: string): AddMessageActionCreatorType =>\r\n    ({type: ADD_MESSAGE, newMessageBody});\r\n\r\nexport default dialogReducer;\r\n","export const required = value => (value || typeof value === 'number' ? undefined : 'Required')\r\nconst maxLength = max => value =>\r\n    value && value.length > max ? `Must be ${max} characters or less` : undefined\r\nexport const maxLength15 = maxLength(15)\r\nexport const maxLength33 = maxLength(33)","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Music_main__nsVAr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preload\":\"Preloader_preload__2e6Oy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"top\":\"ProfileHead_top__2lDc6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Profile_main__1M0vk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"items\":\"MyPosts_items__yX41M\"};","import React from \"react\";\r\nimport s from '../../components/Common/InputField/FormsContorls.module.css'\r\nimport {Field, reduxForm} from 'redux-form'\r\nimport {renderInput} from \"../Common/InputField/FormsControls\";\r\nimport {maxLength33, required} from \"../../utils/validators\";\r\n\r\n\r\ntype OwnPropsType = {\r\n    // captchaURL: string | null\r\n}\r\ntype MapStatePropsType = {\r\n    submitting: boolean\r\n    error: string\r\n\r\n}\r\ntype MapDispatchPropsType = {\r\n    handleSubmit: any\r\n}\r\ntype PropsType = OwnPropsType & MapStatePropsType & MapDispatchPropsType\r\nconst LoginFormContent: React.FC<PropsType> = ({ handleSubmit, submitting, error,  }) => {\r\n    return (\r\n        <div>\r\n            <form onSubmit={ handleSubmit }>\r\n                <div>\r\n                    <Field name=\"email\" type=\"email\" label=\"Email\" component={renderInput} validate={[required, maxLength33]}/>\r\n                </div>\r\n                <div>\r\n                    <Field name=\"password\" type=\"password\" label=\"password\" component={renderInput} validate={[required, maxLength33]}/>\r\n                </div>\r\n                <div>\r\n                    <Field name=\"rememberMe\" component='input' type=\"checkbox\"/> Remember Me\r\n                </div>\r\n                {error && <span className={s.formSummaryError}>{error}</span>}\r\n                <div>\r\n                    <button type=\"submit\" disabled={submitting}>Sign in</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n//// @ts-ignore\r\nconst LoginForm = reduxForm({form: 'login'})(LoginFormContent)\r\n\r\nexport default LoginForm\r\n\r\n","import React from \"react\";\r\nimport s from '../../components/Common/InputField/FormsContorls.module.css'\r\nimport {Field, reduxForm} from 'redux-form'\r\nimport {renderInput} from \"../Common/InputField/FormsControls\";\r\nimport {maxLength33, required} from \"../../utils/validators\";\r\n\r\n\r\ntype OwnPropsType = {\r\n    // captchaURL: string | null\r\n}\r\ntype MapStatePropsType = {\r\n    submitting: boolean\r\n    error: string\r\n\r\n}\r\ntype MapDispatchPropsType = {\r\n    handleSubmit: any\r\n}\r\ntype PropsType = OwnPropsType & MapStatePropsType & MapDispatchPropsType\r\nconst LoginFormContent: React.FC<PropsType> = ({ handleSubmit, submitting, error,  }) => {\r\n    return (\r\n        <div>\r\n            <form onSubmit={ handleSubmit }>\r\n                <div>\r\n                    <Field name=\"email\" type=\"email\" label=\"Email\" component={renderInput} validate={[required, maxLength33]}/>\r\n                </div>\r\n                <div>\r\n                    <Field name=\"password\" type=\"password\" label=\"password\" component={renderInput} validate={[required, maxLength33]}/>\r\n                </div>\r\n                <div>\r\n                    <Field name=\"captcha\" type=\"text\" label=\"AntiBot\" component={renderInput} validate={[required]}/>\r\n                </div>\r\n                <div>\r\n                    <Field name=\"rememberMe\" component='input' type=\"checkbox\"/> Remember Me\r\n                </div>\r\n                {error && <span className={s.formSummaryError}>{error}</span>}\r\n                <div>\r\n                    <button type=\"submit\" disabled={submitting}>Sign in</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n//// @ts-ignore\r\nconst LoginFormWithCaptcha = reduxForm({form: 'login'})(LoginFormContent)\r\n\r\nexport default LoginFormWithCaptcha\r\n\r\n","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport LoginForm from \"./LiginForm\";\r\nimport LoginFormWithCaptcha from \"./LiginFormWithCaptcha\";\r\n\r\ntype OwnPropsType = {}\r\ntype MapStatePropsType = {\r\n    isAuth: boolean\r\n    captchaURL: string | null\r\n}\r\ntype MapDispatchPropsType = {\r\n    onSubmit: any\r\n    userSignIn:\r\n        (login: string, password: string, rememberMe: boolean, captcha: string | null) =>\r\n            void\r\n    userSignOut: () => void\r\n}\r\n// type valuesType = {email: string, password: string, rememberMe: boolean, captcha: string | null}\r\n\r\ntype PropsType = OwnPropsType & MapStatePropsType & MapDispatchPropsType\r\n\r\nclass Login extends React.Component<PropsType> {\r\n    submit = (values: any) => {\r\n        this.props.userSignIn(values.email, values.password, values.rememberMe, values.captcha)\r\n    }\r\n    unSubmit = () => {\r\n        this.props.userSignOut()\r\n    }\r\n\r\n    render() {\r\n        if (this.props.isAuth) {\r\n            return <Redirect to={'/Profile'}/>\r\n        }\r\n        return (\r\n            <div>\r\n                <h1>Login</h1>{this.props.captchaURL\r\n                ? <LoginFormWithCaptcha onSubmit={this.submit}/>\r\n                : <LoginForm onSubmit={this.submit}/>\r\n            }\r\n\r\n                {this.props.captchaURL && <div><img src={this.props.captchaURL} alt=\"\"/></div>}\r\n            </div>)\r\n    }\r\n}\r\n\r\n// <LoginForm onSubmit={this.submit} captchaURL={this.props.captchaURL}/> - didn't admit type\r\nexport default Login\r\n\r\n","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {ownUserName} from \"../redux/auth-reducer\";\r\n\r\nlet mapStateToPropsRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (this.props.isAuth) {\r\n                return <Component {...this.props} />\r\n            }\r\n            return <Redirect to='/Login'/>\r\n        }\r\n    }\r\n    return connect(mapStateToPropsRedirect, {ownUserName})(RedirectComponent);\r\n}\r\n","import { createSelector } from \"reselect\";\r\nimport {AppStateType} from \"./redux-store\";\r\n\r\nexport const getUsers = (state: AppStateType) => state.usersPage.users;\r\nexport const selectUsers = createSelector(getUsers, (allUsers) => {\r\n    return  allUsers.filter(user => true)\r\n});\r\n\r\nexport const getPageSize = (state: AppStateType) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount = (state: AppStateType) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state: AppStateType) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state: AppStateType) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getIsFollowingProgress = (state: AppStateType) => {\r\n    return state.usersPage.isFollowingProgress\r\n}","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {'API-KEY': '75852ffb-adc3-4383-ad7d-adeade81f55b'},\r\n})\r\n\r\nexport const usersAPI = {\r\n    requestUsers(currentPage = 1, pageSize = 5) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n    },\r\n    follow(id) {\r\n        return instance.post(`follow/${id}`)\r\n    },\r\n    unFollow(id) {\r\n        return instance.delete(`follow/${id}`, {})\r\n    },\r\n    getFollow(userId) {\r\n        return instance.get(`follow/${userId}`)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId = 17889) {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status})\r\n    },\r\n    updateProfile(profile) {\r\n        return instance.put(`profile`, profile)\r\n    },\r\n    uploadPhoto(photo) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photo);\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email, password, rememberMe=false, captcha) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha})\r\n    },\r\n    exit() {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    captcha() {\r\n        return instance.get(`security/get-captcha-url`)\r\n    }\r\n}","import React from \"react\";\r\nimport s from './FormsContorls.module.css'\r\n\r\ntype PropsType = {\r\n    input: Array<string>,\r\n    label: string,\r\n    type: any,\r\n    meta: any\r\n}\r\nexport const renderField: React.FC<PropsType> =  ({\r\n                         input,\r\n                         label,\r\n                         meta: { touched, error, warning }\r\n                     }) =>  (\r\n        <div className={s.formControl + ' ' + (touched && error && s.error)}>\r\n            <label></label>\r\n            <div>\r\n                <textarea {...input} placeholder={label} />\r\n                <br/>\r\n                {touched &&\r\n                ((error && <span>{error}</span>) ||\r\n                    (warning && <span>{warning}</span>))}\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n\r\nexport const renderInput: React.FC<PropsType> = ({   input,\r\n                                label,\r\n                                type,\r\n                                meta: { touched, error, warning }\r\n                            }) => (\r\n    <div className={s.formControl + ' ' + (touched && error && s.error)}>\r\n        <label>{label}</label>\r\n        <div >\r\n            <input {...input} placeholder={label} type={type} />\r\n            <br/>\r\n            {touched &&\r\n            ((error && <span>{error}</span>) ||\r\n                (warning && <span>{warning}</span>))}\r\n        </div>\r\n    </div>\r\n)","import {authAPI, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\n\r\nconst SET_USER_DATA = 'social_network/auth/SET_USER_DATA';\r\nconst GET_CAPTCHA_URL = 'social_network/auth/GET_CAPTCHA_URL';\r\n\r\ntype InitialStateType = {\r\n    id: number | null,\r\n    email: string | null,\r\n    login: string | null,\r\n    password: string | null,\r\n    rememberMe: boolean,\r\n    isAuth: boolean,\r\n    serverMessage: string | null,\r\n    captchaURL: string | null\r\n}\r\n\r\nlet initialState: InitialStateType = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    password: null,\r\n    rememberMe: false,\r\n    isAuth: false,\r\n    serverMessage: null,\r\n    captchaURL: null\r\n}\r\n\r\nconst authReducer = (state = initialState, action: any) : InitialStateType => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case GET_CAPTCHA_URL:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\ntype SetAuthUserDataActionPayloadType = {\r\n    id: number | null,\r\n    email: string | null,\r\n    login: string | null,\r\n    isAuth: boolean\r\n}\r\ntype SetAuthUserDataActionType = {\r\n    type: typeof SET_USER_DATA,\r\n    payload: SetAuthUserDataActionPayloadType\r\n}\r\nconst setAuthUserData = (id: number | null, email: string | null, login: string | null, isAuth: boolean)\r\n    : SetAuthUserDataActionType => ({\r\n    type: SET_USER_DATA,\r\n    payload: {id, email, login, isAuth}\r\n});\r\n\r\nexport const ownUserName = () =>\r\n    async (dispatch: any) => {\r\n        let response = await authAPI.me();\r\n        if (response.data.resultCode === 0) {\r\n            let {id, email, login} = response.data.data;\r\n            dispatch(setAuthUserData(id, email, login, true));\r\n        }\r\n    }\r\n\r\ntype GetCaptchaURLActionType = {\r\n    type: typeof GET_CAPTCHA_URL,\r\n    payload: {captchaURL: string}\r\n}\r\nconst getCaptchaURL = (captchaURL: string) : GetCaptchaURLActionType => ({type: GET_CAPTCHA_URL, payload: {captchaURL}});\r\n\r\nexport const userSignIn = (login: string, password: string, rememberMe=false, captcha: string | null = null) =>\r\n    async (dispatch: any) => {\r\n        let response = await authAPI.login(login, password, rememberMe, captcha);\r\n        // dispatch(deleteCaptchaURL());\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(ownUserName());\r\n        } else if (response.data.resultCode === 10) {\r\n            let action = stopSubmit('login', {captcha: 'Enter the captcha'});\r\n            dispatch(action);\r\n            dispatch(captchaURL());\r\n        } else if (response.data.resultCode === 1) {\r\n            let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Same error';\r\n            let action = stopSubmit('login', {_error: message});\r\n            dispatch(action);\r\n        }\r\n    }\r\n\r\nexport const userSignOut = () =>\r\n    async (dispatch: any) => {\r\n        let response = await authAPI.exit()\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setAuthUserData(null, null, null, false));\r\n        }\r\n    }\r\nconst captchaURL = () =>\r\n    async (dispatch: any) => {\r\n        let response = await securityAPI.captcha()\r\n        if (response.data.url) {\r\n            dispatch(getCaptchaURL(response.data.url));\r\n        }\r\n    }\r\n\r\nexport default authReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"ProfileInfo_avatar__3VVhM\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3K8b5\",\"fullName\":\"ProfileInfo_fullName__aqRdG\",\"inputWrapper\":\"ProfileInfo_inputWrapper__1htHj\",\"inputFile\":\"ProfileInfo_inputFile__1RUI1\",\"inputFileIconWrapper\":\"ProfileInfo_inputFileIconWrapper__32luE\",\"inputFileButtonText\":\"ProfileInfo_inputFileButtonText__2fbFu\",\"inputFileButton\":\"ProfileInfo_inputFileButton__1JqAo\",\"inputFileIcon\":\"ProfileInfo_inputFileIcon__vL0vn\",\"contact\":\"ProfileInfo_contact__3hgQr\"};","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\n\r\ntype PropsType = {}\r\n\r\nconst News: React.FC<PropsType> = () => {\r\n    return (                 \r\n        <div>\r\n          News\r\n        </div>\r\n      \r\n    )\r\n}\r\n\r\nexport default News;","import React from 'react';\r\nimport s from './Music.module.css'\r\nimport {ComposersType} from \"../../Types/Types\";\r\n\r\ntype PropsType = {\r\n    composers: Array<ComposersType>\r\n    selectComposer:  (id: number) => void\r\n}\r\n\r\nconst Music: React.FC<PropsType> = ({composers, selectComposer}) => {\r\n    return (<div className={s.main}>\r\n        <div>\r\n            <h2> Choose your favorite composer</h2>\r\n            <div>\r\n                {composers.map(composer => <Composer key={composer.id} id={composer.id} selectComposer={selectComposer}\r\n                                                     name={composer.name} isLike={composer.isLike}/>\r\n                )}\r\n            </div>\r\n        </div>\r\n    </div>)\r\n}\r\n\r\ntype ComposerType = {\r\n    name: string\r\n    id: number\r\n    isLike: boolean\r\n    selectComposer:  (id: number) => void\r\n}\r\nconst Composer: React.FC<ComposerType> = ({name, id, isLike, selectComposer}) => {\r\n    const selectBestComposer = (id: number) => selectComposer(id)\r\n    return <div><div><strong>{name}</strong></div>\r\n        <div><button onClick={()=>selectBestComposer(id)}>\r\n            {isLike? 'favorite' : 'not so favorite'}</button></div>\r\n        <br/>\r\n    </div>\r\n}\r\n\r\nexport default Music;","import {updateObjectInArray} from \"../utils/object-helpers\";\r\nimport {ComposersType} from \"../Types/Types\";\r\n\r\nconst SELECT_COMPOSER = 'SELECT_COMPOSER';\r\n\r\nlet initialState = {\r\n    composers: [\r\n{id: 0, name: 'Johann Sebastian Bach', isLike: false},\r\n{id: 1, name: 'Wolfgang Amadeus Mozart', isLike: false},\r\n{id: 2, name: 'Ludwig van Beethoven', isLike: false}\r\n] as Array<ComposersType>\r\n}\r\ntype InitialStateActionType = typeof initialState\r\n\r\nconst musicReducer = (state = initialState, action:any): InitialStateActionType => {\r\n\r\n    switch (action.type) {\r\n        case SELECT_COMPOSER:\r\n            return {\r\n                ...state, composers:\r\n                 state.composers.map(u => {\r\n                    if (u.id === action.id) {\r\n                        return {...u, isLike: !u.isLike}\r\n                    } else {\r\n                        return {\r\n                            ...u, isLike: false\r\n                        }\r\n                    }\r\n                    return u\r\n                })\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const selectComposer = (id:number) => ({type: SELECT_COMPOSER, id});\r\n\r\nexport default musicReducer;","import {connect} from \"react-redux\";\r\nimport Music from \"./Music\";\r\nimport {selectComposer} from \"../../redux/music-reducer\";\r\nimport {ComposersType, FriendsType} from \"../../Types/Types\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\n\r\ntype MapStatePropsType = {\r\n    composers: Array<ComposersType>\r\n}\r\ntype MapDispatchPropsType = {\r\n    selectComposer: (id: number) => void\r\n}\r\ntype OwnPropsType = {\r\n}\r\nconst mapStateToProps = (state: AppStateType): MapStatePropsType =>{\r\n    return {\r\n        composers: state.musicReducer.composers,\r\n    }\r\n}\r\n\r\nconst MusicContainer = connect<MapStatePropsType, MapDispatchPropsType, OwnPropsType, AppStateType>\r\n(mapStateToProps, {selectComposer})(Music);\r\n\r\nexport default MusicContainer;","import React from 'react';\r\n\r\n// type PropsTypeFC = {\r\n//     state: any\r\n// }\r\n// type PropsType = {\r\n//     state: {isToggleOn: boolean}\r\n//     prevState: {isToggleOn: boolean}\r\n//     isToggleOn: boolean\r\n//\r\n// }\r\n\r\nconst Settings = () => {\r\n    return (                 \r\n        <div>\r\n          Settings\r\n            <Form/>\r\n            <Toggle />\r\n        </div>\r\n\r\n    )\r\n}\r\nfunction Form() {\r\n    function handleSubmit(e: React.FormEvent<HTMLFormElement>) {\r\n        e.preventDefault();\r\n        console.log('Отправлена форма.');\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <button type=\"submit\">Отправить</button>\r\n        </form>\r\n    );\r\n}\r\n\r\ninterface IProps {\r\n}\r\n\r\ninterface IState {\r\n    isToggleOn?: boolean;\r\n}\r\n\r\nclass Toggle extends React.Component<IProps, IState> {\r\n    constructor(props: IProps) {\r\n        super(props);\r\n        this.state = {isToggleOn: true};\r\n\r\n        // Эта привязка обязательна для работы `this` в колбэке.\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n\r\n    handleClick() {\r\n        this.setState((prevState) => ({\r\n            isToggleOn: !prevState.isToggleOn\r\n        }));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <button onClick={this.handleClick}>\r\n                {this.state.isToggleOn ? 'Включено' : 'Выключено'}\r\n            </button>\r\n        );\r\n    }\r\n}\r\nexport default Settings;","import React, {useState} from 'react';\r\nimport s from '../Friends.module.css';\r\n\r\ntype PropsType = {\r\n    name: string,\r\n    src: string | undefined\r\n}\r\nconst FriendsItem: React.FC<PropsType> = (props) => {\r\n    const [isSubscribed, setSubscribed] = useState(false)\r\n    const getSubscribe = (bool: boolean) => bool ? 'a': undefined\r\n    return <div className={s.item}>\r\n        <div><img src={props.src} /></div>\r\n        {props.name} <br/>\r\n        <button onClick={() => setSubscribed(!isSubscribed)} className={getSubscribe(!isSubscribed) && s.button}   >\r\n            {isSubscribed ? 'subscribed' : 'subscribe!'}\r\n        </button>\r\n\r\n\r\n    </div>;\r\n}\r\n\r\nexport default FriendsItem;","import React from 'react';\r\nimport s from './Friends.module.css'\r\nimport FriendsItem from \"./FriendsItem/FriendsItem\";\r\nimport {FriendsType} from \"../../Types/Types\";\r\n\r\ntype PropsType = {\r\n   friends: Array<FriendsType>\r\n}\r\n\r\nconst Friends: React.FC<PropsType> = (props) => {\r\n\r\n    let friendsItems = props.friends.map(d => <FriendsItem key={d.id} name={d.name} src={d.src} />)\r\n\r\n    return (\r\n        <div className={s.dialogs}>\r\n\r\n        <div>\r\n          Friends:\r\n        </div>\r\n\r\n        <div className={s.dialogItems}>\r\n            {friendsItems}\r\n        </div>\r\n\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Friends;","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Friends from \"./Friends\";\r\nimport {FriendsType} from \"../../Types/Types\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\n\r\ntype MapStatePropsType = {\r\n    friends: Array<FriendsType>\r\n}\r\ntype MapDispatchPropsType = {\r\n}\r\ntype OwnPropsType = {\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStatePropsType => {\r\n    return {\r\n        friends: state.sidebar.friends,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = () => {\r\n    return {\r\n        }\r\n}\r\n\r\nconst FriendsContainer = connect<MapStatePropsType, MapDispatchPropsType, OwnPropsType, AppStateType>\r\n(mapStateToProps, mapDispatchToProps)(Friends);\r\n\r\nexport default FriendsContainer;","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport s from './Navbar.module.css';\r\nimport {DialogsType} from \"../../Types/Types\";\r\n\r\ntype MapStatePropsType = {\r\n    dialogs: Array<DialogsType>\r\n}\r\ntype MapDispatchPropsType = {\r\n}\r\ntype OwnPropsType = {\r\n}\r\ntype PropsType = OwnPropsType & MapStatePropsType & MapDispatchPropsType\r\n\r\n\r\nconst Navbar: React.FC<PropsType> = ({dialogs}) => {\r\n\r\n                return <nav className={s.nav}>\r\n                    <div>\r\n                        <NavLink to='/Profile' activeClassName={s.activeLink}>Profile</NavLink>\r\n                    </div>\r\n                    <div>\r\n                        <NavLink exact to='/Dialogs' activeClassName={s.activeLink}>Message</NavLink>\r\n                    </div>\r\n                    <div>\r\n                        <NavLink to='/News' activeClassName={s.activeLink}>News</NavLink>\r\n                    </div>\r\n                    <div>\r\n                        <NavLink to='/Music' activeClassName={s.activeLink}>Music</NavLink>\r\n                        <br/>\r\n                        <br/>\r\n                    </div>\r\n                    <div>\r\n                        <NavLink to='/Users' activeClassName={s.activeLink}>Users</NavLink>\r\n                        <br/>\r\n                        <br/>\r\n                    </div>\r\n                    <div>\r\n                        <NavLink to='/Settings' activeClassName={s.activeLink}>Settings</NavLink>\r\n                    </div>\r\n                    <br/>\r\n                    <br/>\r\n                    <div>\r\n                        <NavLink to='/Friends' activeClassName={s.activeLink}>Friends</NavLink>\r\n                        <br/>\r\n                        <br/>\r\n                        <ul className={s.friend}>\r\n                            <li>\r\n                                <img src={dialogs[1].src}/> <br/>\r\n                                {dialogs[1].name}\r\n                            </li>\r\n                            <li><img src={dialogs[2].src}/> <br/>\r\n                                {dialogs[2].name}\r\n                            </li>\r\n                            <li>\r\n                                <img src={dialogs[3].src}/><br/>\r\n                                {dialogs[3].name}\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <div>\r\n                        <NavLink to='/Login' activeClassName={s.activeLink}>Login</NavLink>\r\n                    </div>\r\n                </nav>\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Navbar from \"./Navbar\";\r\nimport {DialogsType} from \"../../Types/Types\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\n\r\ntype MapStatePropsType = {\r\n    dialogs: Array<DialogsType>\r\n}\r\ntype MapDispatchPropsType = {\r\n}\r\ntype OwnPropsType = {\r\n}\r\ntype PropsType = OwnPropsType & MapStatePropsType & MapDispatchPropsType\r\n\r\nconst mapStateToProps = (state: AppStateType): PropsType =>{\r\n    return {\r\n        dialogs: state.dialogPage.dialogs,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = () => {\r\n    return {\r\n    }\r\n}\r\n\r\nexport const NavbarContainer = connect<MapStatePropsType, MapDispatchPropsType, OwnPropsType, AppStateType>\r\n(mapStateToProps, mapDispatchToProps)(Navbar);","import React, {useEffect, useState} from 'react';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    const [editMode, setEditMode] = useState(false);\r\n    const activateEditMode = () => setEditMode(true);\r\n\r\n    const [status, setStatus] = useState(props.status);\r\n    const onStatusChange = e => setStatus(e.currentTarget.value);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    let inActivateMode = () => {\r\n        if (props.isOwner) {\r\n            setEditMode(false);\r\n            props.updateStatus(status);\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div>status:</div>\r\n            {!editMode &&\r\n            <div>\r\n                <button disabled={!props.isOwner || !props.isAuth} onClick={activateEditMode}>{props.status}</button>\r\n            </div>}\r\n\r\n            {editMode &&\r\n            <div>\r\n                <input autoFocus={true}\r\n                       onBlur={inActivateMode}\r\n                       onChange={onStatusChange}\r\n                       value={status}\r\n                />\r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","export default __webpack_public_path__ + \"static/media/add.1c5dfb8a.svg\";","import React, {useEffect, useState} from 'react';\r\nimport s from '../../../components/Common/InputField/FormsContorls.module.css'\r\nimport style from './ProfileInfo.module.css'\r\nimport {Field, reduxForm} from 'redux-form'\r\nimport {renderInput} from \"../../Common/InputField/FormsControls\";\r\nimport {maxLength33, required} from \"../../../utils/validators\";\r\nimport createField from \"redux-form/lib/createField\";\r\n\r\n\r\nconst ProfileDataForm = ({ handleSubmit, submitting, error, ...props }) => {\r\n\r\n    return (\r\n            <form onSubmit={ handleSubmit }>\r\n                    <button type=\"submit\" disabled={submitting}>save</button>\r\n                <div>\r\n                    {error && <span className={s.formSummaryError}>{error}</span>}\r\n                </div>\r\n                <div>\r\n                    <Field name=\"fullName\" type=\"text\" label=\"Full Name\" component={renderInput}\r\n                           validate={[required, maxLength33]}/>\r\n                </div>\r\n                <div>\r\n                    <Field name=\"aboutMe\" type=\"text\" label=\"About Me\" component={renderInput}\r\n                           validate={[required, maxLength33]}/>\r\n                </div>\r\n                <div>\r\n                    <Field name=\"lookingForAJob\" component='input' type=\"checkbox\"/>Looking for a job\r\n                </div>\r\n                <div>\r\n                <Field name=\"lookingForAJobDescription\" type=\"text\"\r\n                       label=\"My professional skills\" component={renderInput}\r\n                       validate={[required, maxLength33]}/>\r\n                </div>\r\n                <div>\r\n                    Contacts: {Object.keys(props.profile.contacts).map(key => {\r\n                    return (<div className={style.contact}>\r\n                    <Field name={'contacts.' + key} type=\"text\" label={key} component={renderInput}\r\n                           validate={[]} />  </div>\r\n                    )\r\n                })}\r\n                </div>\r\n            </form>\r\n    )\r\n}\r\n\r\n\r\n\r\nconst ProfileDataReduxForm = reduxForm({form: 'profile'})(ProfileDataForm)\r\n\r\nexport default ProfileDataReduxForm;","import React, {useEffect, useState} from 'react';\r\nimport s from './ProfileInfo.module.css'\r\nimport Preloader from \"../../Common/Preloader/Preloader\";\r\nimport userPhoto from \"../../../assets/images/user.png\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\nimport arrow from '../../../assets/images/add.svg'\r\nimport ProfileDataForm from \"./ProfileDataForm\";\r\nimport ProfileDataReduxForm from \"./ProfileDataForm\";\r\nimport Follow from \"../../Common/Follow/Follow\";\r\n\r\nconst ProfileInfo = (props) => {\r\n    const onMainPhotoSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            props.savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    const [editMode, setEditMode] = useState(false);\r\n\r\n    const [followed, setFollow] = useState(props.followed);\r\n\r\n    const follow = (userId) => {\r\n        props.follow(userId);\r\n        setFollow(true);\r\n    }\r\n\r\n    const unFollow = (userId) => {\r\n        props.unFollow(userId);\r\n        setFollow(false);\r\n    }\r\n\r\n    useEffect(() => {\r\n        setFollow(props.followed)\r\n    }, [props.followed])\r\n\r\n    const submit = values => {\r\n      props.updateProfile(values, props.profile.userId).then(() => {\r\n          setEditMode(false);\r\n      })\r\n    }\r\n\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    } else {\r\n        return (\r\n            <div>\r\n                <div className={s.descriptionBlock}>\r\n                    <div className={s.fullName}>{props.profile.fullName}</div>\r\n                    <ProfileStatusWithHooks userId={props.profile.userId} id={props.id}\r\n                                            status={props.status} updateStatus={props.updateStatus}\r\n                                            isOwner={props.isOwner} isAuth={props.isAuth}/>\r\n                                            <br/>\r\n                    <div>\r\n                        <img className={s.avatar} src={props.profile.photos.large || userPhoto}/>\r\n                    </div>\r\n                    {props.isOwner && props.isAuth &&\r\n                    <div class={s.inputWrapper}>\r\n                        <input type={'file'} id={'input__file'} className={s.inputFile} onChange={onMainPhotoSelected}/>\r\n                        <label htmlFor={\"input__file\"} className={s.inputFileButton}>\r\n                        <span className={s.inputFileIconWrapper}>\r\n                            <img className={s.inputFileIcon} src={arrow}/>\r\n                            </span>\r\n                            <span className={s.inputFileButtonText}>Download your photo</span>\r\n                        </label>\r\n                    </div>}\r\n                    {props.isOwner && !editMode && props.isAuth &&\r\n                    <button onClick={() => setEditMode(true)}>edit profile</button>}\r\n                    {editMode\r\n                            ?<ProfileDataReduxForm initialValues={props.profile}\r\n                                                   profile={props.profile} onSubmit={submit}/>\r\n                            :<ProfileData profile={props.profile} /> }\r\n                    <div><br/></div>\r\n                    <div><br/></div>\r\n                    {!props.isOwner &&\r\n                    <div>{followed\r\n                        ? <span>Subscribed to {props.profile.fullName}</span>\r\n                        : <span>You can subscribe to {props.profile.fullName}</span>}\r\n\r\n                    <Follow followed={followed} userId={props.profile.userId}\r\n                            isFollowingProgress={props.isFollowingProgress}\r\n                            unFollow={unFollow} follow={follow} isAuth={props.isAuth} />\r\n                    </div>}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst ProfileData = (props) => {\r\n    return (\r\n        <div>\r\n            <div>Full name: <i>{props.profile.fullName}</i></div>\r\n            <div>About me: <i>{props.profile.aboutMe}</i></div>\r\n            <div>{props.profile.lookingForAJob ? <span><i>I am looking for a job</i></span> : <span><i>I have a job</i></span>}</div>\r\n            <div>My professional skills: <br/> <i>{props.profile.lookingForAJobDescription}</i></div>\r\n            <div>\r\n                Contacts: {Object.keys(props.profile.contacts).map(key => {\r\n                    return <Contact key={key} contactTitle={key}\r\n                                    contactValue={props.profile.contacts[key]}/>\r\n            })}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Contact = ({contactTitle, contactValue}) => {\r\n    return (\r\n        <div className={s.contact}>\r\n            {contactTitle}: <i>{contactValue}</i>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport s from './ProfileHead.module.css'\r\n\r\nconst ProfileHead = React.memo(props => {\r\n\r\n  return (\r\n      <div>\r\n        <img className={s.top} src='https://wikiway.com/upload/iblock/dfd/16-voshod.jpg' />\r\n      </div>\r\n  )\r\n})\r\n\r\nexport default ProfileHead;","import {profileAPI, usersAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport exp from \"constants\";\r\nimport {ContactsType, PhotosType, PostsType, ProfileType} from \"../Types/Types\";\r\nconst ADD_POST = 'social_network/profile/ADD_POST';\r\nconst SET_USER_PROFILE = 'social_network/profile/SET_USER_PROFILE';\r\nconst SET_USER_FOLLOW = 'social_network/profile/SET_USER_FOLLOW';\r\nconst SET_USER_STATUS = 'social_network/profile/SET_USER_STATUS';\r\nconst DELETE_POST = 'social_network/profile/DELETE_POST';\r\nconst SET_USER_PHOTO_SUCCESS = 'social_network/profile/SET_USER_PHOTO_SUCCESS';\r\nconst UPDATE_USER_PROFILE = 'social_network/profile/UPDATE_USER_PROFILE';\r\n\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Hi, how are you?', likeCount: 11},\r\n        {id: 2, message: 'Okay', likeCount: 13},\r\n        {id: 3, message: 'Right', likeCount: 15}\r\n    ] as Array<PostsType>,\r\n    newPostState: 'YOY' as string,\r\n    profile: null as ProfileType | null,\r\n    followed: true as boolean,\r\n    status: ''\r\n};\r\ntype initialStateType = typeof initialState;\r\n\r\nconst profileReducer = (state: initialStateType = initialState, action: any) : initialStateType  => {\r\n\r\n    switch (action.type) {\r\n        case  ADD_POST:\r\n            const countId = state.posts.length + 1;\r\n\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts,\r\n                    {\r\n                        id: countId,\r\n                        message: action.text,\r\n                        likeCount: 17 + countId\r\n                    }]\r\n            };\r\n\r\n        case DELETE_POST:\r\n            return {\r\n\r\n                ...state,\r\n                posts: [...state.posts.filter(p => p.id !== action.postId)]\r\n            }\r\n\r\n        case SET_USER_PROFILE:\r\n            return {...state, profile: action.profile}\r\n\r\n        case SET_USER_PHOTO_SUCCESS:\r\n            return {...state, profile: {...state.profile, photos: action.photos} as ProfileType}\r\n\r\n        case UPDATE_USER_PROFILE:\r\n            return {\r\n                ...state, profile: {\r\n                    ...state.profile,\r\n                    fullName: action.profile.FullName,\r\n                    aboutMe: action.profile.AboutMe,\r\n                    lookingForAJob: action.profile.lookingForAJob,\r\n                    lookingForAJobDescription: action.profile.lookingForAJobDescription\r\n                } as ProfileType\r\n            }\r\n\r\n        case SET_USER_FOLLOW:\r\n            return {...state, followed: action.followed}\r\n\r\n        case SET_USER_STATUS:\r\n            return {...state, status: action.status}\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\ntype AddPostActionCreatorActionType = {\r\n    type: typeof ADD_POST,\r\n    text: string\r\n}\r\nexport const addPostActionCreator = (text: string): AddPostActionCreatorActionType => ({type: ADD_POST, text});\r\ntype DeletePostActionCreatorActionType = {\r\n    type: typeof DELETE_POST,\r\n    postId: number\r\n}\r\nexport const deletePostActionCreator = (postId: number): DeletePostActionCreatorActionType => ({type: DELETE_POST, postId});\r\ntype setUserProfileActionType = {\r\n    type: typeof SET_USER_PROFILE,\r\n    profile: ProfileType\r\n}\r\nconst setUserProfile = (profile: ProfileType): setUserProfileActionType => ({type: SET_USER_PROFILE, profile})\r\ntype setUserFollowActionType = {\r\n    type: typeof SET_USER_FOLLOW,\r\n    followed: boolean\r\n}\r\nconst setUserFollow = (followed: boolean):setUserFollowActionType => ({type: SET_USER_FOLLOW, followed})\r\ntype setUserStatusActionType = {\r\n    type: typeof SET_USER_STATUS,\r\n    status: string\r\n}\r\nconst setUserStatus = (status: string): setUserStatusActionType => ({type: SET_USER_STATUS, status})\r\ntype setUserPhotoSuccessActionType = {\r\n    type: typeof SET_USER_PHOTO_SUCCESS,\r\n    photos: PhotosType\r\n}\r\nconst setUserPhotoSuccess = (photos: PhotosType):setUserPhotoSuccessActionType => ({type: SET_USER_PHOTO_SUCCESS, photos})\r\n\r\nexport const getUserProfile = (userId: number) =>\r\n    async (dispatch: any) => {\r\n        let response = await profileAPI.getProfile(userId);\r\n        dispatch(setUserProfile(response.data));\r\n    }\r\n\r\nexport const savePhoto = (photoFile: any) =>\r\n    async (dispatch: any) => {\r\n        let response = await profileAPI.uploadPhoto(photoFile);\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setUserPhotoSuccess(response.data.data.photos))\r\n        }\r\n    }\r\n\r\nexport const getUserFollow = (userId: number) =>\r\n    async (dispatch: any) => {\r\n        let response = await usersAPI.getFollow(userId);\r\n        dispatch(setUserFollow(response.data));\r\n    }\r\n\r\nexport const getStatus = (userId: number) =>\r\n    async (dispatch: any) => {\r\n        let response = await profileAPI.getStatus(userId);\r\n        dispatch(setUserStatus(response.data))\r\n    }\r\nexport const updateStatus = (status: string) =>\r\n    async (dispatch: any) => {\r\n        try {\r\n            let response = await profileAPI.updateStatus(status);\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setUserStatus(status))\r\n            }\r\n        } catch (e) {\r\n            console.error(\"Error occurred: \"   )\r\n        }\r\n    }\r\nexport const updateProfile = (profile: ProfileType, userId: number) =>\r\n    async (dispatch: any) => {\r\n        // const userId = store.getState().auth.id;\r\n        const response = await profileAPI.updateProfile(profile);\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(getUserProfile(userId))\r\n        } else if (response.data.resultCode === 1) {\r\n            const message = response.data.messages.length > 0 ? response.data.messages[0] : 'Same error';\r\n            const getLastResponseWorld = (str: string) => {\r\n                return str.split('>').map((word) => word[0].toLowerCase() + word.slice(1, word.length - 1))[1];\r\n            }\r\n            const action = stopSubmit('profile', {contacts: {[getLastResponseWorld(message)]: message}});\r\n            dispatch(action);\r\n            return Promise.reject(message)\r\n        }\r\n    }\r\nexport default profileReducer;","import React from 'react';\r\nimport s from './Post.module.css'\r\n\r\nconst Post = (props) => {\r\n    return (                 \r\n        <div>\r\n          <div className={s.item}>{props.message} </div>\r\n          <div className={`${s.item} ${s.active}`}>Like Count: {props.likeCount}</div>\r\n        </div>      \r\n    )\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport s from './MyPosts.module.css';\r\nimport Post from \"./Post/Post\";\r\nimport {Field, reduxForm, reset} from \"redux-form\";\r\nimport {renderField} from \"../../Common/InputField/FormsControls\";\r\nimport {maxLength33, required} from \"../../../utils/validators\";\r\n\r\nlet PostForm = props => {\r\n\r\n    const { handleSubmit } = props;\r\n    return (\r\n        <form onSubmit={ handleSubmit }>\r\n            <div>\r\n                <Field name=\"post\"\r\n                       component={renderField }\r\n                       label='Enter you message'\r\n                       validate={[required, maxLength33]}\r\n                />\r\n            </div>\r\n            <div>\r\n                <button>Add post</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst afterSubmit = (result, dispatch) =>\r\n    dispatch(reset('post'));\r\n\r\nPostForm  = reduxForm({form: 'post', onSubmitSuccess: afterSubmit})(PostForm)\r\n\r\nconst MyPosts = props => {\r\n\r\n    const addPost = (post) => {\r\n        return props.addPost(post)\r\n    }\r\n    const submit = (values) => {\r\n        addPost(values.post);\r\n    }\r\n            return (\r\n                <div className={s.items}>\r\n                    My posts\r\n                    <PostForm onSubmit={submit}/>\r\n                    <h3>NEW POST</h3>\r\n                    {[...props.posts].reverse().map(m => <Post message={m.message} likeCount={m.likeCount} key={m.id}/>)}\r\n                </div>\r\n            )\r\n    }\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport {addPostActionCreator} from \"../../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.postPage.posts,\r\n        newPostState: state.postPage.newPostState,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (text) => {\r\n            dispatch(addPostActionCreator(text))\r\n        },\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\n","import React from 'react';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport ProfileHead from './ProfileHead/ProfileHead';\r\nimport s from './Profile.module.css';\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n// import Follow from \"../Common/Follow/Follow\";\r\n\r\n\r\nconst Profile = (props) => {\r\n\r\n    return (\r\n      <div> \r\n      <ProfileHead />\r\n      <div className={s.main}>  \r\n      <ProfileInfo profile={props.profile} follow={props.follow} id={props.id}\r\n                   status={props.status} updateStatus={props.updateStatus}\r\n                   isOwner={props.isOwner} savePhoto={props.savePhoto}\r\n                   updateProfile={props.updateProfile} followed={props.followed} userId={props.id}\r\n                   isFollowingProgress={props.isFollowingProgress}\r\n                   unFollow={props.unFollow} users={props.users} isAuth={props.isAuth}\r\n      />\r\n      <MyPostsContainer  />\r\n      </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {\r\n    getUserProfile,\r\n    getUserFollow,\r\n    getStatus,\r\n    updateStatus,\r\n    savePhoto,\r\n    updateProfile\r\n} from \"../../redux/profile-reducer\";\r\nimport {withAuthRedirect} from \"../../HOC/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {ownUserName} from \"../../redux/auth-reducer\";\r\nimport {getIsFollowingProgress} from \"../../redux/users-selectors\";\r\nimport {follow, unFollow} from \"../../redux/users-reducer\";\r\n\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n    setPreviousState() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId && this.props.isAuth) {\r\n            userId = this.props.id;\r\n            if (!userId) {\r\n                this.props.history.push('/Login')\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId);\r\n        this.props.getUserFollow(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setPreviousState()\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId)\r\n            this.setPreviousState()\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <Profile {...this.props}\r\n                     isOwner={!this.props.match.params.userId} profile={this.props.profile}\r\n                     status={this.props.status}\r\n                     updateStatus={this.props.updateStatus}\r\n                     id={this.props.id} addPhoto={this.props.savePhoto}\r\n                     updateProfile={this.props.updateProfile}\r\n                     users={this.props.users} follow={this.props.follow}\r\n                     unFollow={this.props.unFollow}\r\n                     isFollowingProgress={this.props.isFollowingProgress}\r\n                     followed={this.props.followed} isAuth={this.props.isAuth}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.postPage.profile,\r\n    followed: state.postPage.followed,\r\n    status: state.postPage.status,\r\n    id: state.auth.id,\r\n    isAuth: state.auth.isAuth,\r\n    isFollowingProgress: state.usersPage.isFollowingProgress\r\n});\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        ownUserName, getUserProfile,\r\n        getUserFollow, getStatus, updateStatus, savePhoto, updateProfile, follow,\r\n        unFollow\r\n    }),\r\n    withRouter,\r\n    // withAuthRedirect\r\n)\r\n(ProfileContainer)","import React from 'react';\r\nimport s from'./Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\ntype PropsType = {\r\n    isAuth: boolean,\r\n    login: string | null,\r\n    userSignOut: () => void\r\n}\r\n\r\nconst Header: React.FC<PropsType>  = (props) => {\r\n    return (\r\n        <header className={s.header} >\r\n            <span><img className={`${s.image} ${s.active}`} src='https://avatars.mds.yandex.net/get-pdb/1754666/ed246d9f-c717-44c3-9022-dbd43488dcab/s1200?webp=false' /></span>\r\n\r\n            <span className={s.loginBlock}> { props.isAuth\r\n                ? <div > <div>{props.login}</div>\r\n                    <button onClick={props.userSignOut}>Log out</button>\r\n                   </div>\r\n                : <div>\r\n                    <NavLink to={'/Login'}>Login</NavLink>\r\n                </div>\r\n            }\r\n            </span>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {userSignOut} from \"../../redux/auth-reducer\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\n// import {AppStateType} from \"../../redux/redux-store\";\r\n\r\ntype PropsType ={\r\n    isAuth: boolean,\r\n    login: string | null,\r\n    userSignOut: () => void\r\n}\r\n\r\nclass HeaderContainer extends React.Component<PropsType> {\r\n\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n})\r\nexport default connect(mapStateToProps, {userSignOut})(HeaderContainer);","import {ownUserName} from \"./auth-reducer\";\r\n\r\nconst INITIALIZATION_SUCCESSFUL= 'social_network/app/INITIALIZATION_SUCCESSFUL';\r\n\r\nexport type InitialStateType = {\r\n    initialization: boolean,\r\n}\r\n\r\nlet initialState: InitialStateType = {\r\n    initialization: false,\r\n}\r\n\r\nconst appReducer = (state = initialState, action: any ) : InitialStateType => {\r\n\r\n    switch (action.type) {\r\n        case INITIALIZATION_SUCCESSFUL:\r\n            return {\r\n                ...state,\r\n                initialization: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\ntype  InitializationSuccessfulActionType = {\r\n    type: typeof INITIALIZATION_SUCCESSFUL\r\n}\r\nconst  initializationSuccessful = (): InitializationSuccessfulActionType => ({type: INITIALIZATION_SUCCESSFUL});\r\n\r\nexport const getInitialization = () =>\r\n   async (dispatch: any) => {\r\n        const promise = dispatch(ownUserName());\r\n        await  Promise.all([promise]);\r\n        dispatch(initializationSuccessful());\r\n    }\r\n\r\nexport default appReducer;","import {FriendsType} from \"../Types/Types\";\r\n\r\nconst initialState = {\r\n    friends: [\r\n        {id: 1, name: 'Dima', src: 'https://avatarko.ru/img/avatar/9/serial_8759.jpg'},\r\n        {id: 2, name: 'Andrey', src: 'https://avatarko.ru/img/avatar/33/muzhchina_32048.jpg'},\r\n        {id: 3, name: 'Sveta', src: 'https://avatarko.ru/img/avatar/26/devushka_blondinka_kapyushon_25929.jpg'},\r\n        {id: 4, name: 'Sasha', src: 'https://avatarko.ru/img/avatar/5/devushka_4066.jpg'},\r\n        {id: 5, name: 'Victor', src: 'https://avatarko.ru/img/avatar/26/muzhchina_serfing_25374.jpg'},\r\n    ] as Array<FriendsType>\r\n};\r\ntype InitialStateActionType = typeof initialState;\r\n\r\nconst sidebarReducer = (state: InitialStateActionType = initialState, action: any) => {\r\n    switch (action.type) {\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogReducer from \"./dialog-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\nimport musicReducer from \"./music-reducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n    initializeReducer: appReducer,\r\n    postPage: profileReducer,\r\n    dialogPage: dialogReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    musicReducer: musicReducer,\r\n    auth: authReducer,\r\n    form: formReducer\r\n})\r\n\r\ntype RootReducerType = typeof rootReducer\r\nexport type AppStateType = ReturnType<RootReducerType>\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nlet store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n// @ts-ignore\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import {AppStateType} from \"../../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\nimport {userSignIn, userSignOut} from \"../../redux/auth-reducer\";\r\nimport Login from \"./Login\";\r\n\r\ntype MapStatePropsType = {\r\n    isAuth: boolean\r\n    captchaURL: string | null\r\n    serverMessage: string | null\r\n}\r\ntype MapDispatchPropsType = {\r\n}\r\ntype OwnPropsType = {\r\n}\r\ntype PropsType = OwnPropsType & MapStatePropsType & MapDispatchPropsType\r\n\r\n\r\nconst mapStateToProps = (state: AppStateType): PropsType =>{\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        captchaURL: state.auth.captchaURL,\r\n        serverMessage: state.auth.serverMessage\r\n    }\r\n}\r\n\r\nconst LoginContainer = connect<MapStatePropsType, MapDispatchPropsType, OwnPropsType, AppStateType>\r\n(mapStateToProps, {userSignIn, userSignOut})(Login);\r\n\r\nexport default LoginContainer","import React, {Suspense} from 'react';\r\nimport {BrowserRouter, HashRouter, Redirect, Route, Switch, withRouter} from 'react-router-dom';\r\nimport './App.css';\r\nimport News from './components/News/News';\r\nimport Music from './components/Music/MusicContainer';\r\nimport Settings from './components/Settings/Settings';\r\nimport FriendsContainer from \"./components/Friends/FriendsContainer\";\r\nimport {NavbarContainer} from \"./components/Navbar/NavbarContainer\";\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport Preloader from \"./components/Common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {getInitialization} from \"./redux/app-reducer\";\r\nimport store from \"./redux/redux-store\";\r\nimport LoginContainer from \"./components/Login/LoginContainer\";\r\n\r\nconst UsersContainer = React.lazy(() => import(\"./components/Users/UsersContainer\"));\r\nconst Login = React.lazy(() => import(\"./components/Login/Login\"));\r\nconst Dialogs = React.lazy(() => import('./components/Dialog/Dialogs'));\r\n\r\nclass App extends React.Component {\r\n    catchAllUnhandledErrors = (e) => {\r\n        console.error(\"Error occurred: \" + e.reason.message );\r\n        return false;\r\n    }\r\n    componentDidMount() {\r\n        this.props.getInitialization();\r\n        window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialization) {\r\n            return <Preloader/>\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <div className='app-wrapper'>\r\n                    <HeaderContainer/>\r\n                    <NavbarContainer/>\r\n                    <div className='app-wrapper-content'>\r\n                        <Switch>\r\n                            <Route exact path='/' render={() => <Redirect to={\"/Profile\"}/>}/>\r\n                            <Route path='/Profile/:userId?' render={() => <ProfileContainer/>}/>\r\n                            <Route path='/News' render={() => <News/>}/>\r\n                            <Route path='/Music' render={() => <Music/>}/>\r\n                            <Route path='/Settings' render={() => <Settings/>}/>\r\n                            <Route path='/Friends' render={() => <FriendsContainer/>}/>\r\n                            <Route path='/Dialogs'\r\n                                   render={() => <Suspense fallback={<Preloader/>}><Dialogs/></Suspense>}/>\r\n                            <Route path='/Users'\r\n                                   render={() => <Suspense fallback={<Preloader/>}>\r\n                                       <UsersContainer pageTitle={'Users'}/></Suspense>}/>\r\n                            <Route path='/Login' render={() => <Suspense fallback={<Preloader/>}><LoginContainer/></Suspense>}/>\r\n                            <Route exact path='/*' render={() => <div>404 PAGE NOT FOUND</div>}/>\r\n                        </Switch>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialization: state.initializeReducer.initialization\r\n})\r\n\r\nconst AppContainer = compose(withRouter,\r\n    connect(mapStateToProps, {getInitialization}))(App);\r\n/*basename={process.env.PUBLIC_URL}*/\r\nconst SamuraiJSApp = () => {\r\n    return <HashRouter>\r\n        <Provider store={store}>\r\n            <AppContainer/>\r\n        </Provider>\r\n    </HashRouter>\r\n}\r\nexport default SamuraiJSApp;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport SamuraiJSApp from \"./App\";\r\n\r\n// let rerenderEntireTree = () => {\r\n\r\n    ReactDOM.render(<SamuraiJSApp/>, document.getElementById('root')\r\n    );\r\n// }\r\n\r\nreportWebVitals();\r\n// rerenderEntireTree(store.getState());\r\n// rerenderEntireTree()\r\n// store.subscribe( () => {\r\n//     // let state = store.getState();\r\n//     rerenderEntireTree();\r\n//     // rerenderEntireTree(state);\r\n// } );\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsContorls_formControl__3ZweW\",\"error\":\"FormsContorls_error__2NuWs\",\"formSummaryError\":\"FormsContorls_formSummaryError__3d2rM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2Qh1K\",\"activeLink\":\"Navbar_activeLink__1w08l\",\"friend\":\"Navbar_friend__1S1Y2\"};","export default __webpack_public_path__ + \"static/media/audio.b9d9b13a.svg\";","import preloader from \"../../../assets/images/audio.svg\";\r\nimport React from \"react\";\r\nimport styles from './Preloader.module.css'\r\n\r\nconst Preloader = () => {\r\n    return <div ><img className={styles.preload} src={preloader} /></div>\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Friends_dialogs__2N-Ui\",\"dialogItems\":\"Friends_dialogItems__27Taa\",\"item\":\"Friends_item__2s0-m\",\"active\":\"Friends_active__35VUY\",\"name\":\"Friends_name__1mOZr\",\"messages\":\"Friends_messages__3JWCQ\",\"passive\":\"Friends_passive__aeMp1\",\"button\":\"Friends_button__3m1zo\"};","export const updateObjectInArray = (items, itemId, objectProperty, newObjectProps) => {\r\n   return items.map(u => {\r\n        if (u[objectProperty] === itemId) {\r\n            return {...u, ...newObjectProps}\r\n        }\r\n        return u;\r\n    })\r\n}","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\nimport {UserType} from \"../Types/Types\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [] as Array<UserType>,\r\n    pageSize: 5 as number,\r\n    totalUsersCount: 0 as number,\r\n    currentPage: 1 as number,\r\n    isFetching: false as boolean,\r\n    isFollowingProgress: [] as Array<number> // array of usersId\r\n};\r\ntype InitialStateActionType = typeof initialState;\r\n\r\nconst usersReducer = (state = initialState, action: any): InitialStateActionType => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users,\r\n                     action.userID, 'id',  {followed: true})\r\n            }\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userID, 'id', {followed: false})\r\n              }\r\n\r\n        case SET_USERS: {\r\n            return { ...state, users: action.users}\r\n        }\r\n\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.totalUsersCount}\r\n        }\r\n\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                isFollowingProgress: action.isFetching\r\n                    ? [...state.isFollowingProgress, action.userId]\r\n                    : state.isFollowingProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\ntype FollowSuccessActionType = {\r\n    type: typeof FOLLOW,\r\n    userID: number\r\n}\r\nexport const followSuccess = (userID: number): FollowSuccessActionType=> ({type: FOLLOW, userID});\r\ntype UnFollowSuccessActionType = {\r\n    type: typeof UNFOLLOW,\r\n    userID: number\r\n}\r\nexport const unFollowSuccess = (userID: number): UnFollowSuccessActionType => ({type: UNFOLLOW, userID});\r\ntype SetUsersActionType = {\r\n    type: typeof SET_USERS,\r\n    users: Array<UserType>\r\n}\r\nexport const setUsers = (users: Array<UserType>): SetUsersActionType => ({type: SET_USERS, users});\r\ntype SetCurrentPageActionType = {\r\n    type: typeof SET_CURRENT_PAGE,\r\n    currentPage: number\r\n}\r\nconst setCurrentPage = (currentPage: number): SetCurrentPageActionType => ({type: SET_CURRENT_PAGE, currentPage});\r\ntype SetTotalUsersCountActionType = {\r\n    type: typeof SET_TOTAL_USERS_COUNT,\r\n    totalUsersCount: number\r\n}\r\nexport const setTotalUsersCount = (totalUsersCount: number): SetTotalUsersCountActionType =>\r\n    ({type: SET_TOTAL_USERS_COUNT, totalUsersCount});\r\ntype ToggleIsFetchingActionType = {\r\n    type: typeof TOGGLE_IS_FETCHING,\r\n    isFetching: boolean\r\n}\r\nexport const toggleIsFetching = (isFetching: boolean): ToggleIsFetchingActionType => ({type: TOGGLE_IS_FETCHING, isFetching});\r\ntype ToggleIsFollowingProgressActionType = {\r\n    type: typeof TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching: boolean,\r\n    userId: number\r\n}\r\nexport const toggleIsFollowingProgress = (isFetching: boolean, userId: number): ToggleIsFollowingProgressActionType => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n});\r\n\r\nexport const requestUsers = (currentPage: number, pageSize: number) =>\r\n    async (dispatch: any) => {\r\n        dispatch(setCurrentPage(currentPage));\r\n        dispatch(toggleIsFetching(true));\r\n        const response = await usersAPI.requestUsers(currentPage, pageSize);\r\n        if (response.data !== 0) {\r\n            dispatch(toggleIsFetching(false));\r\n            dispatch(setUsers(response.data.items));\r\n            dispatch(setTotalUsersCount(response.data.totalCount));\r\n        }\r\n    }\r\nconst combineFollowUnfollow = async (dispatch: any, userId: number, following: any,\r\n                                     followingSuccess: any) => {\r\n    dispatch(toggleIsFollowingProgress(true, userId));\r\n    await following(userId);\r\n        dispatch(followingSuccess(userId))\r\n        dispatch(toggleIsFollowingProgress(false, userId));\r\n}\r\n\r\nexport const unFollow = (userId: number) => {\r\n    return async (dispatch: any) => {\r\n        await combineFollowUnfollow(dispatch, userId, usersAPI.unFollow.bind(usersAPI),\r\n            unFollowSuccess)\r\n    }\r\n}\r\n\r\nexport const follow = (userId: number) => {\r\n    return async (dispatch: any) => {\r\n        await combineFollowUnfollow(dispatch, userId, usersAPI.follow.bind(usersAPI),\r\n            followSuccess)\r\n    }\r\n}\r\n\r\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__34NiP\",\"image\":\"Header_image__2ARi0\",\"active\":\"Header_active__25w3A\",\"loginBlock\":\"Header_loginBlock__2wNfK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1NRAa\",\"active\":\"Post_active__1Lk3N\"};","export default \"data:image/png;base64,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\""],"sourceRoot":""}