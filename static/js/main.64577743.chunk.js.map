{"version":3,"sources":["components/Friends/Friends.module.css","components/Profile/MyPosts/Post/Post.module.css","utils/object-helpers.js","redux/users-reducer.ts","assets/images/user.png","components/Common/Follow/Follow.tsx","HOC/withAuthRedirect.js","redux/dialog-reducer.ts","components/Music/Music.module.css","components/Common/Preloader/Preloader.module.css","components/Profile/ProfileHead/ProfileHead.module.css","components/Login/LiginForm.tsx","components/Login/LiginFormWithCaptcha.tsx","components/Login/Login.tsx","api/api.ts","utils/validators.js","reportWebVitals.js","components/News/components/news/news.jsx","components/News/News.jsx","components/Music/Music.tsx","redux/music-reducer.ts","components/Music/MusicContainer.tsx","components/Settings/Settings.tsx","components/Friends/FriendsItem/FriendsItem.tsx","components/Friends/Friends.tsx","components/Friends/FriendsContainer.tsx","components/Navbar/Navbar.tsx","components/Navbar/NavbarContainer.tsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.tsx","assets/images/add.svg","components/Profile/ProfileInfo/ProfileDataForm.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","assets/images/16-voshod.jpg","components/Profile/ProfileHead/ProfileHead.tsx","redux/profile-reducer.ts","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","redux/auth-selectors.ts","components/Header/Header.tsx","redux/app-reducer.ts","redux/sidebar-reducer.ts","redux/redux-store.ts","components/Login/LoginContainer.tsx","App.js","index.js","redux/auth-reducer.ts","components/Common/InputField/FormsControls.tsx","components/Common/InputField/FormsContorls.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Navbar/Navbar.module.css","components/Common/Preloader/Preloader.tsx"],"names":["module","exports","updateObjectInArray","items","itemId","objectProperty","newObjectProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","initialState","users","pageSize","totalUsersCount","currentPage","isFetching","isFollowingProgress","followSuccess","userID","type","unFollowSuccess","setCurrentPage","toggleIsFetching","toggleIsFollowingProgress","userId","requestUsers","dispatch","getState","a","usersAPI","response","error","totalCount","_combineFollowUnfollow","following","followingSuccess","unFollow","bind","follow","usersReducer","state","action","followed","filter","id","Follow","disabled","some","onClick","mapStateToPropsRedirect","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","ownUserName","ADD_MESSAGE","dialogs","name","src","messages","message","st","randomInteger","Math","floor","random","addMessageActionCreator","newMessageBody","dialogReducer","position","length","countId","LoginForm","reduxForm","form","handleSubmit","submitting","onSubmit","Field","label","component","renderInput","validate","required","maxLength33","className","s","formSummaryError","LoginFormWithCaptcha","Login","submit","values","userSignIn","email","password","rememberMe","captcha","unSubmit","userSignOut","captchaURL","alt","ResultCodeEnum","ResultCodeForCaptcha","instance","axios","create","withCredentials","baseURL","headers","get","then","res","data","post","delete","getFollow","profileAPI","getProfile","getStatus","updateStatus","status","put","updateProfile","profile","uploadPhoto","photo","formData","FormData","append","authAPI","me","login","exit","securityAPI","value","undefined","maxLength","max","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","NewsPost","author","created_at","num_comments","title","points","url","extra","href","style","width","height","Date","toLocaleDateString","defaultProps","Title","Typography","BASE_PATH","SEARCH_PATH","SEARCH_PARAM","Messages","getSearch","searchQuery","Form","useForm","layout","labelCol","span","wrapperCol","initialValues","remember","onFinish","console","log","onFinishFailed","errorInfo","autoComplete","placeholder","Item","rules","offset","htmlType","News","result","fetchData","fetch","json","setState","catch","hits","level","objectID","margin","xs","sm","md","lg","xl","xxl","Composer","isLike","selectComposer","selectBestComposer","Music","composers","main","composer","SELECT_COMPOSER","musicReducer","MusicContainer","e","preventDefault","alert","Toggle","isToggleOn","handleClick","prevState","Settings","FriendsItem","bool","useState","isSubscribed","setSubscribed","item","button","Friends","friendsItems","friends","d","dialogItems","FriendsContainer","sidebar","Navbar","nav","activeClassName","activeLink","exact","friend","dialogPage","Text","Paragraph","ProfileStatusWithHooks","editableStr","setEditableStr","isOwner","onBlur","editable","tooltip","onChange","ProfileDataFormRedux","direction","Object","keys","contacts","key","contact","ProfileData","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","contactTitle","contactValue","Contact","ProfileInfo","editMode","setEditMode","setFollow","useEffect","gutter","borderRadius","photos","large","userPhoto","inputWrapper","inputFile","target","files","savePhoto","htmlFor","inputFileButton","inputFileIconWrapper","inputFileIcon","arrow","inputFileButtonText","ownerOnHisPage","Preloader","ProfileHead","Layout","Header","memo","top","image","ADD_POST","SET_USER_PROFILE","SET_USER_FOLLOW","SET_USER_STATUS","DELETE_POST","SET_USER_PHOTO_SUCCESS","UPDATE_USER_PROFILE","LIKE_INCREMENT","DISLIKE_INCREMENT","posts","likeCount","disLikeCount","newPostState","setUserStatus","getUserProfile","profileReducer","text","p","postId","FullName","AboutMe","Post","Link","like","setLike","likeIncrement","disLikeIncrement","keyboard","active","LikeTwoTone","twoToneColor","DislikeTwoTone","addPost","resetFields","MyPosts","onSubmitSuccess","reset","renderField","reverse","m","postPage","addPostActionCreator","Profile","Content","Sider","Footer","MyPostsContainer","ProfileContainer","match","params","history","push","getUserFollow","setPreviousState","isOwnerOnHisPage","prevProps","uId","compose","usersPage","resultCode","Success","photoFile","Error","getLastResponseWorld","str","split","word","toLowerCase","slice","stopSubmit","Promise","reject","withRouter","selectIsAuth","selectCurrentUserLogin","selectCurrentUserId","selectAuthProfile","useSelector","ID","getUserProfileLocal","useDispatch","theme","mode","defaultSelectedKeys","small","backgroundColor","icon","UserOutlined","INITIALIZATION_SUCCESSFUL","initialization","appReducer","sidebarReducer","rootReducer","combineReducers","initializeReducer","authReducer","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","LoginContainer","serverMessage","SubMenu","Menu","UsersContainer","lazy","Dialogs","App","catchAllUnhandledErrors","reason","signOut","collapsed","onCollapse","getInitialization","addEventListener","removeEventListener","pathname","location","splice","join","collapsedWidth","collapsible","breakpoint","borderRight","ProfileOutlined","UsergroupAddOutlined","LoginOutlined","padding","minHeight","path","render","fallback","pageTitle","textAlign","AppContainer","promise","all","SamuraiJSApp","ReactDOM","document","getElementById","SET_USER_DATA","GET_CAPTCHA_URL","GET_PROFILE","setAuthUserData","payload","getProfileUserData","meData","getCaptchaURL","authLogin","CaptchaIsRequired","_error","input","meta","touched","warning","formControl","textarea","antIcon","fontSize","spin","styles","preload","indicator"],"mappings":"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","file":"static/js/main.64577743.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Friends_dialogs__2N-Ui\",\"dialogItems\":\"Friends_dialogItems__27Taa\",\"item\":\"Friends_item__2s0-m\",\"active\":\"Friends_active__35VUY\",\"name\":\"Friends_name__1mOZr\",\"messages\":\"Friends_messages__3JWCQ\",\"passive\":\"Friends_passive__aeMp1\",\"button\":\"Friends_button__3m1zo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1NRAa\",\"active\":\"Post_active__1Lk3N\",\"position\":\"Post_position__3gUt1\"};","export const updateObjectInArray = (items, itemId, objectProperty, newObjectProps) => {\r\n   return items.map(u => {\r\n        if (u[objectProperty] === itemId) {\r\n            return {...u, ...newObjectProps}\r\n        }\r\n        return u;\r\n    })\r\n}","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\nimport {UserType} from \"../Types/Types\";\r\nimport {AppStateType} from \"./redux-store\";\r\nimport { Dispatch } from \"redux\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [] as Array<UserType>,\r\n    pageSize: 5 as number,\r\n    totalUsersCount: 0 as number,\r\n    currentPage: 1 as number,\r\n    isFetching: false as boolean,\r\n    isFollowingProgress: [] as Array<number> // array of usersId\r\n};\r\ntype InitialStateActionType = typeof initialState;\r\ntype ActionType = ToggleIsFollowingProgressActionType | ToggleIsFetchingActionType |\r\n    SetTotalUsersCountActionType | SetCurrentPageActionType | FollowSuccessActionType |\r\n    UnFollowSuccessActionType | SetUsersActionType\r\n\r\nconst usersReducer = (state = initialState, action: ActionType): InitialStateActionType => {\r\n\r\n     switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users,\r\n                     action.userID, 'id',  {followed: true})\r\n            }\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userID, 'id', {followed: false})\r\n              }\r\n\r\n        case SET_USERS: {\r\n            return { ...state, users: action.users}\r\n        }\r\n\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.totalUsersCount}\r\n        }\r\n\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                isFollowingProgress: action.isFetching\r\n                    ? [...state.isFollowingProgress, action.userId]\r\n                    : state.isFollowingProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\ntype FollowSuccessActionType = {\r\n    type: typeof FOLLOW,\r\n    userID: number\r\n}\r\nexport const followSuccess = (userID: number): FollowSuccessActionType=> ({type: FOLLOW, userID});\r\ntype UnFollowSuccessActionType = {\r\n    type: typeof UNFOLLOW,\r\n    userID: number\r\n}\r\nexport const unFollowSuccess = (userID: number): UnFollowSuccessActionType => ({type: UNFOLLOW, userID});\r\ntype SetUsersActionType = {\r\n    type: typeof SET_USERS,\r\n    users: Array<UserType>\r\n}\r\nexport const setUsers = (users: Array<UserType>): SetUsersActionType => ({type: SET_USERS, users});\r\ntype SetCurrentPageActionType = {\r\n    type: typeof SET_CURRENT_PAGE,\r\n    currentPage: number\r\n}\r\nconst setCurrentPage = (currentPage: number): SetCurrentPageActionType => ({type: SET_CURRENT_PAGE, currentPage});\r\ntype SetTotalUsersCountActionType = {\r\n    type: typeof SET_TOTAL_USERS_COUNT,\r\n    totalUsersCount: number\r\n}\r\nexport const setTotalUsersCount = (totalUsersCount: number): SetTotalUsersCountActionType =>\r\n    ({type: SET_TOTAL_USERS_COUNT, totalUsersCount});\r\ntype ToggleIsFetchingActionType = {\r\n    type: typeof TOGGLE_IS_FETCHING,\r\n    isFetching: boolean\r\n}\r\nexport const toggleIsFetching = (isFetching: boolean): ToggleIsFetchingActionType => ({type: TOGGLE_IS_FETCHING, isFetching});\r\ntype ToggleIsFollowingProgressActionType = {\r\n    type: typeof TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching: boolean,\r\n    userId: number\r\n}\r\nexport const toggleIsFollowingProgress = (isFetching: boolean, userId: number): ToggleIsFollowingProgressActionType => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n});\r\n\r\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, unknown, ActionType>\r\ntype DispatchType = Dispatch<ActionType>\r\nexport const requestUsers = (currentPage: number, pageSize: number): ThunkType  =>\r\n    async (dispatch, getState) => {\r\n\r\n        dispatch(setCurrentPage(currentPage));\r\n        dispatch(toggleIsFetching(true));\r\n        const response = await usersAPI.requestUsers(currentPage, pageSize);\r\n        if (response.error === null) {\r\n            dispatch(toggleIsFetching(false));\r\n            dispatch(setUsers(response.items));\r\n            dispatch(setTotalUsersCount(response.totalCount));\r\n        }\r\n    }\r\nconst _combineFollowUnfollow = async (dispatch: DispatchType, userId: number, following: any,\r\n                                     followingSuccess: (userId: number) => FollowSuccessActionType | UnFollowSuccessActionType) => {\r\n    dispatch(toggleIsFollowingProgress(true, userId));\r\n    await following(userId);\r\n        dispatch(followingSuccess(userId))\r\n        dispatch(toggleIsFollowingProgress(false, userId));\r\n}\r\n\r\nexport const unFollow = (userId: number): ThunkType => {\r\n    return async (dispatch) => {\r\n        await _combineFollowUnfollow(dispatch, userId, usersAPI.unFollow.bind(usersAPI),\r\n            unFollowSuccess)\r\n    }\r\n}\r\n\r\nexport const follow = (userId: number): ThunkType => {\r\n    return async (dispatch) => {\r\n        await _combineFollowUnfollow(dispatch, userId, usersAPI.follow.bind(usersAPI),\r\n            followSuccess)\r\n    }\r\n}\r\n\r\nexport default usersReducer;","export default \"data:image/png;base64,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\"","import React from \"react\";\r\nimport {Button} from \"antd\";\r\n\r\ntype PropsType = {\r\n    followed: boolean,\r\n    userId: number,\r\n    isFollowingProgress: number[],\r\n    unFollow: (userId: number) => void,\r\n    follow: (userId: number) => void\r\n}\r\nconst Follow: React.FC<PropsType> =\r\n    ({ followed, userId, isFollowingProgress, unFollow, follow }) => {\r\n\r\n\r\n    return (\r\n        <div>\r\n            {followed\r\n                ? <Button disabled={isFollowingProgress.some(id => id === userId)} onClick={() => {\r\n                    unFollow(userId);\r\n                }}>Unfollow</Button>\r\n                : <Button disabled={isFollowingProgress.some(id => id === userId)} onClick={() => {\r\n                    follow(userId);\r\n                }}>Follow</Button>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Follow;","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {ownUserName} from \"../redux/auth-reducer\";\r\n\r\nlet mapStateToPropsRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (this.props.isAuth) {\r\n                return <Component {...this.props} />\r\n            }\r\n            return <Redirect to='/Login'/>\r\n        }\r\n    }\r\n    return connect(mapStateToPropsRedirect, {ownUserName})(RedirectComponent);\r\n}\r\n","import {DialogsType, MessagesType} from \"../Types/Types\";\r\n\r\nconst ADD_MESSAGE = 'ADD_MESSAGE';\r\n\r\nconst initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Dima', src: 'https://avatarko.ru/img/avatar/9/serial_8759.jpg'},\r\n        {id: 2, name: 'Andrey', src: 'https://avatarko.ru/img/avatar/33/muzhchina_32048.jpg'},\r\n        {id: 3, name: 'Sveta', src: 'https://avatarko.ru/img/avatar/26/devushka_blondinka_kapyushon_25929.jpg'},\r\n        {id: 4, name: 'Sasha', src: 'https://avatarko.ru/img/avatar/5/devushka_4066.jpg'},\r\n        {id: 5, name: 'Victor', src: 'https://avatarko.ru/img/avatar/26/muzhchina_serfing_25374.jpg'},\r\n    ] as Array<DialogsType>,\r\n    messages: [\r\n        {id: 1, message: 'Hi!', name: 'Dima', st: 'active'},\r\n        {id: 2, message: 'How are you?', name: 'Andrey', st: \"passive\"},\r\n        {id: 3, message: 'Wow!', name: 'Sveta', st: 'active'},\r\n        {id: 4, message: 'Yo!', name: 'Sasha', st: 'passive'},\r\n        {id: 5, message: 'Yah!', name: 'Victor', st: 'active'},\r\n    ] as Array<MessagesType>\r\n}\r\n\r\nexport type initialStateActionType = typeof initialState;\r\n\r\nconst randomInteger = () => {\r\n    let rand = Math.floor(Math.random() * (4));\r\n    return rand;\r\n}\r\n\r\nconst dialogReducer = (state:initialStateActionType = initialState, action: any) : initialStateActionType => {\r\n\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            let position = '';\r\n            if (state.messages.length % 2 === 0) {\r\n                position = 'active';\r\n            } else {\r\n                position = 'passive'\r\n            }\r\n            let countId = state.messages.length + 1;\r\n            return {\r\n                ...state,\r\n                    messages: [...state.messages, {\r\n                    id: countId,\r\n                    message: action.newMessageBody,\r\n                    name: state.messages[randomInteger()].name,\r\n                    st: position\r\n                }]\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\ntype AddMessageActionCreatorType = {\r\n    type: typeof ADD_MESSAGE,\r\n    newMessageBody: string | null\r\n}\r\nexport const addMessageActionCreator = (newMessageBody: string): AddMessageActionCreatorType =>\r\n    ({type: ADD_MESSAGE, newMessageBody});\r\n\r\nexport default dialogReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Music_main__nsVAr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preload\":\"Preloader_preload__2e6Oy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"top\":\"ProfileHead_top__2lDc6\"};","import React from \"react\";\r\nimport s from '../../components/Common/InputField/FormsContorls.module.css'\r\nimport {Field, reduxForm} from 'redux-form'\r\nimport {renderInput} from \"../Common/InputField/FormsControls\";\r\nimport {maxLength33, required} from \"../../utils/validators\";\r\n\r\n\r\ntype OwnPropsType = {\r\n    // captchaURL: string | null\r\n}\r\ntype MapStatePropsType = {\r\n    submitting: boolean\r\n    error: string\r\n\r\n}\r\ntype MapDispatchPropsType = {\r\n    handleSubmit: any\r\n}\r\ntype PropsType = OwnPropsType & MapStatePropsType & MapDispatchPropsType\r\nconst LoginFormContent: React.FC<PropsType> = ({ handleSubmit, submitting, error,  }) => {\r\n    return (\r\n        <div>\r\n            <form onSubmit={ handleSubmit }>\r\n                <div>\r\n                    <Field name=\"email\" type=\"email\" label=\"Email\" component={renderInput} validate={[required, maxLength33]}/>\r\n                </div>\r\n                <div>\r\n                    <Field name=\"password\" type=\"password\" label=\"password\" component={renderInput} validate={[required, maxLength33]}/>\r\n                </div>\r\n                <div>\r\n                    <Field name=\"rememberMe\" component='input' type=\"checkbox\"/> Remember Me\r\n                </div>\r\n                {error && <span className={s.formSummaryError}>{error}</span>}\r\n                <div>\r\n                    <button type=\"submit\" disabled={submitting}>Sign in</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst LoginForm = reduxForm({form: 'login'})(LoginFormContent)\r\n\r\nexport default LoginForm\r\n\r\n","import React from \"react\";\r\nimport s from '../../components/Common/InputField/FormsContorls.module.css'\r\nimport {Field, reduxForm} from 'redux-form'\r\nimport {renderInput} from \"../Common/InputField/FormsControls\";\r\nimport {maxLength33, required} from \"../../utils/validators\";\r\n\r\n\r\ntype OwnPropsType = {\r\n    // captchaURL: string | null\r\n}\r\ntype MapStatePropsType = {\r\n    submitting: boolean\r\n    error: string\r\n\r\n}\r\ntype MapDispatchPropsType = {\r\n    handleSubmit: any\r\n}\r\ntype PropsType = OwnPropsType & MapStatePropsType & MapDispatchPropsType\r\nconst LoginFormContent: React.FC<PropsType> = ({ handleSubmit, submitting, error,  }) => {\r\n    return (\r\n        <div>\r\n            <form onSubmit={ handleSubmit }>\r\n                <div>\r\n                    <Field name=\"email\" type=\"email\" label=\"Email\" component={renderInput} validate={[required, maxLength33]}/>\r\n                </div>\r\n                <div>\r\n                    <Field name=\"password\" type=\"password\" label=\"password\" component={renderInput} validate={[required, maxLength33]}/>\r\n                </div>\r\n                <div>\r\n                    <Field name=\"captcha\" type=\"text\" label=\"AntiBot\" component={renderInput} validate={[required]}/>\r\n                </div>\r\n                <div>\r\n                    <Field name=\"rememberMe\" component='input' type=\"checkbox\"/> Remember Me\r\n                </div>\r\n                {error && <span className={s.formSummaryError}>{error}</span>}\r\n                <div>\r\n                    <button type=\"submit\" disabled={submitting}>Sign in</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n//// @ts-ignore\r\nconst LoginFormWithCaptcha = reduxForm({form: 'login'})(LoginFormContent)\r\n\r\nexport default LoginFormWithCaptcha\r\n\r\n","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport LoginForm from \"./LiginForm\";\r\nimport LoginFormWithCaptcha from \"./LiginFormWithCaptcha\";\r\n\r\ntype OwnPropsType = {}\r\ntype MapStatePropsType = {\r\n    isAuth: boolean\r\n    captchaURL: string | null\r\n}\r\ntype MapDispatchPropsType = {\r\n    onSubmit: any\r\n    userSignIn:\r\n        (login: string, password: string, rememberMe: boolean, captcha: string | null) =>\r\n            void\r\n    userSignOut: () => void\r\n}\r\n// type valuesType = {email: string, password: string, rememberMe: boolean, captcha: string | null}\r\n\r\ntype PropsType = OwnPropsType & MapStatePropsType & MapDispatchPropsType\r\n\r\nclass Login extends React.Component<PropsType> {\r\n    submit = (values: any) => {\r\n        this.props.userSignIn(values.email, values.password, values.rememberMe, values.captcha)\r\n\r\n    }\r\n    unSubmit = () => {\r\n        this.props.userSignOut()\r\n    }\r\n\r\n    render() {\r\n        if (this.props.isAuth) {\r\n            return <Redirect to={'/Profile'}/>\r\n        }\r\n        return (\r\n            <div>\r\n                <h1>Login</h1>{this.props.captchaURL\r\n                ? <LoginFormWithCaptcha onSubmit={this.submit}/>\r\n                : <LoginForm onSubmit={this.submit}/>\r\n            }\r\n\r\n                {this.props.captchaURL && <div><img src={this.props.captchaURL} alt=\"\"/></div>}\r\n            </div>)\r\n    }\r\n}\r\n\r\n// <LoginForm onSubmit={this.submit} captchaURL={this.props.captchaURL}/> - didn't admit type\r\nexport default Login\r\n\r\n","import axios, {AxiosResponse} from \"axios\";\r\nimport {PhotosType, UserType} from \"../Types/Types\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {'API-KEY': '75852ffb-adc3-4383-ad7d-adeade81f55b'},\r\n})\r\n\r\nexport enum ResultCodeEnum {\r\n    Success = 0,\r\n    Error = 1,\r\n}\r\nexport enum ResultCodeForCaptcha {\r\n    CaptchaIsRequired = 10\r\n}\r\ntype MeResponseType = {\r\n    data: {\r\n        id: number\r\n        email: string\r\n        login: string\r\n    }\r\n    resultCode: ResultCodeEnum\r\n    messages: Array<string>\r\n}\r\ntype LoginMeResponseType = {\r\n    data: {\r\n        userId:number\r\n    }\r\n    resultCode: ResultCodeEnum | ResultCodeForCaptcha\r\n    messages: Array<string>\r\n}\r\ntype UserResponseType = {\r\n    items: Array<UserType>\r\n    totalCount: number\r\n    error: string | null\r\n}\r\ntype FollowResponseType = {\r\n    resultCode: ResultCodeEnum\r\n    messages: Array<string>\r\n    data: {}\r\n}\r\ntype ProfileType = {\r\n    aboutMe: string,\r\n    contacts: ContactsType,\r\n    fullName: string,\r\n    lookingForAJob: true,\r\n    lookingForAJobDescription: string,\r\n    photos: PhotosType,\r\n    userId: number\r\n}\r\ntype ContactsType = {\r\n    facebook: string ,\r\n    github: string,\r\n    instagram: string,\r\n    mainLink: string,\r\n    twitter: string,\r\n    vk: string,\r\n    website: string,\r\n    youtube: string,\r\n}\r\ntype StatusResponseType = {\r\n    resultCode: ResultCodeEnum\r\n    messages: Array<string>\r\n    data: {}\r\n}\r\ntype ProfileResponseType = {\r\n    resultCode: ResultCodeEnum\r\n    messages: Array<string>\r\n    data: {}\r\n}\r\ntype PhotoResponseType = {\r\n    data: {photos: PhotosType}\r\n    resultCode: ResultCodeEnum\r\n    messages: Array<string>\r\n}\r\ntype CaptchaResponseType = {\r\n    url: string\r\n}\r\nexport const usersAPI = {\r\n    requestUsers(currentPage = 1, pageSize = 5) {\r\n        return instance.get<UserResponseType>(`users?page=${currentPage}&count=${pageSize}`).then(res => res.data)\r\n    },\r\n    follow(id: number) {\r\n        return instance.post<FollowResponseType>(`follow/${id}`).then(res => res.data)\r\n    },\r\n    unFollow(id: number) {\r\n        return instance.delete<FollowResponseType>(`follow/${id}`, {}).then(res => res.data)\r\n    },\r\n    getFollow(userId: number) {\r\n        return instance.get<boolean>(`follow/${userId}`).then(res => res.data)\r\n    }\r\n}\r\nexport const profileAPI = {\r\n    getProfile(userId: number = 17889) {\r\n        return instance.get<ProfileType>(`profile/${userId}`).then(res => res.data)\r\n    },\r\n    getStatus(userId: number) {\r\n        return instance.get<string>(`profile/status/${userId}`).then(res => res.data)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put<StatusResponseType>(`profile/status`, {status: status}).then(res => res.data)\r\n    },\r\n    updateProfile(profile: ProfileType) {\r\n        return instance.put<ProfileResponseType>(`profile`, profile).then(res => res.data)\r\n    },\r\n    uploadPhoto(photo: any) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photo);\r\n        return instance.put<PhotoResponseType>(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        }).then(res => res.data)\r\n    }\r\n}\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get<MeResponseType>(`auth/me`).then(res => res.data)\r\n    },\r\n    login(email: string, password: string, rememberMe=false, captcha: string | null = null) {\r\n        return instance.post<LoginMeResponseType>(`auth/login`, \r\n        {email, password, rememberMe, captcha}).then(res => res.data)\r\n    },\r\n    exit() {\r\n        return instance.delete<ProfileResponseType>(`auth/login`).then(res => res.data)\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    captcha() {\r\n        return instance.get<CaptchaResponseType>(`security/get-captcha-url`).then(res => res.data)\r\n    }\r\n}","export const required = value => (value || typeof value === 'number' ? undefined : 'Required')\r\nconst maxLength = max => value =>\r\n    value && value.length > max ? `Must be ${max} characters or less` : undefined\r\nexport const maxLength15 = maxLength(15)\r\nexport const maxLength33 = maxLength(33)","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Card, Col, Row} from 'antd';\r\n\r\nimport './news.css';\r\n\r\nconst NewsPost = ({author, created_at, num_comments, title, points, url}) => (\r\n\r\n\r\n    <Card title={title} extra={<a href={url}>More</a>} style={{width: 270, height: 170}}>\r\n        <div className={'description'}>\r\n            <span className=\"text\">{`${points} points`}</span>\r\n            <span className=\"comments\">{`${num_comments} comments`}</span>\r\n            <span className=\"date\">{new Date(created_at).toLocaleDateString()}</span>\r\n        </div>\r\n        <div className=\"description\">{author}</div>\r\n    </Card>\r\n\r\n);\r\n\r\nNewsPost.propTypes = {\r\n    author: PropTypes.string,\r\n    created_at: PropTypes.string.isRequired,\r\n    num_comments: PropTypes.number,\r\n    title: PropTypes.string,\r\n    points: PropTypes.number,\r\n    url: PropTypes.string,\r\n}\r\n\r\nNewsPost.defaultProps = {\r\n    author: '',\r\n    num_comments: 0,\r\n    title: 'Here should be a title',\r\n    points: 0,\r\n    url: '#'\r\n}\r\n\r\nexport default NewsPost;\r\n","import React, {Component} from \"react\";\r\nimport {Button, Col, Form, Input, Layout, Row, Typography} from 'antd';\r\n\r\nimport NewsPost from './components/news/news'\r\n\r\n\r\nconst {Title} = Typography;\r\nconst BASE_PATH = 'https://hn.algolia.com/api/v1'\r\nconst SEARCH_PATH = '/search'\r\nconst SEARCH_PARAM = 'query='\r\n\r\n\r\nconst Messages = ({getSearch, searchQuery}) => {\r\n\r\n    const [form] = Form.useForm()\r\n\r\n    const onFinish = (values) => {\r\n        getSearch(values.message)\r\n        // form.resetFields()\r\n        console.log('Success:', values);\r\n    };\r\n\r\n    const onFinishFailed = (errorInfo) => {\r\n        console.log('Failed:', errorInfo);\r\n    };\r\n\r\n    return (\r\n        <Form\r\n            form={form}\r\n            name=\"basic\"\r\n            layout=\"vertical\"\r\n            labelCol={{span: 8}}\r\n            wrapperCol={{span: 16}}\r\n            initialValues={{remember: true}}\r\n            onFinish={onFinish}\r\n            onFinishFailed={onFinishFailed}\r\n            autoComplete=\"off\"\r\n            placeholder={searchQuery}\r\n        >\r\n            <Form.Item\r\n                label=''\r\n                name=\"message\"\r\n                rules={[{required: true, message: 'Please input your message!'}]}\r\n            >\r\n                <Input/>\r\n            </Form.Item>\r\n\r\n            <Form.Item wrapperCol={{offset: 0, span: 16}}>\r\n                <Button type=\"primary\" htmlType=\"submit\">\r\n                    Search\r\n                </Button>\r\n            </Form.Item>\r\n        </Form>\r\n    );\r\n};\r\n\r\nclass News extends Component {\r\n    state = {\r\n        searchQuery: '',\r\n        result: {}\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {searchQuery} = this.state\r\n        this.fetchData(searchQuery)\r\n    }\r\n\r\n    fetchData = (searchQuery) => {\r\n        fetch(`${BASE_PATH}${SEARCH_PATH}?${SEARCH_PARAM}${searchQuery}`)\r\n            .then(res => res.json())\r\n            .then(result => this.setState({result}))\r\n            .catch(error => error)\r\n    }\r\n\r\n    getSearch = (value) => {\r\n        // if(key === 'Enter') {\r\n        this.setState({\r\n            searchQuery: value\r\n        })\r\n        const {searchQuery} = this.state\r\n        this.fetchData(searchQuery)\r\n        // }\r\n    }\r\n\r\n    render() {\r\n        const {searchQuery, result} = this.state\r\n        const {hits = []} = result\r\n\r\n        return (\r\n            <Layout>\r\n                <Title>Hacker News</Title>\r\n                <Messages getSearch={this.getSearch} searchQuery={searchQuery}/>\r\n                <Title level={5}>{searchQuery}</Title>\r\n                <Row>\r\n                    {\r\n                        hits.map(({author, created_at, num_comments, objectID, title, points, url}) =>\r\n                            <Col style={{margin: '10px 30px 10px 0'}} xs={{span: 24, offset: 0}} sm={{span: 14, offset: 2}}\r\n                                 md={{span: 10, offset: 2}}\r\n                                 lg={{span: 8, offset: 3}}\r\n                                 xl={{span: 6, offset: 1}}\r\n                                 xxl={{span: 5, offset: 1}}\r\n                            >\r\n                                <NewsPost\r\n                                    key={objectID}\r\n                                    author={author}\r\n                                    created_at={created_at}\r\n                                    num_comments={num_comments}\r\n                                    title={title}\r\n                                    points={points}\r\n                                    url={url}\r\n                                />\r\n                            </Col>\r\n                        )}\r\n                </Row>\r\n\r\n            </Layout>\r\n        )\r\n    }\r\n}\r\n\r\nexport default News","import React from 'react';\r\nimport s from './Music.module.css'\r\nimport {ComposersType} from \"../../Types/Types\";\r\n\r\ntype PropsType = {\r\n    composers: Array<ComposersType>\r\n    selectComposer:  (id: number) => void\r\n}\r\n\r\nconst Music: React.FC<PropsType> = ({composers, selectComposer}) => {\r\n    return (<div className={s.main}>\r\n        <div>\r\n            <h2> Choose your favorite composer</h2>\r\n            <div>\r\n                {composers.map(composer => <Composer key={composer.id} id={composer.id} selectComposer={selectComposer}\r\n                                                     name={composer.name} isLike={composer.isLike}/>\r\n                )}\r\n            </div>\r\n        </div>\r\n    </div>)\r\n}\r\n\r\ntype ComposerType = {\r\n    name: string\r\n    id: number\r\n    isLike: boolean\r\n    selectComposer:  (id: number) => void\r\n}\r\nconst Composer: React.FC<ComposerType> = ({name, id, isLike, selectComposer}) => {\r\n    const selectBestComposer = (id: number) => selectComposer(id)\r\n    return <div><div><strong>{name}</strong></div>\r\n        <div><button onClick={()=>selectBestComposer(id)}>\r\n            {isLike? 'favorite' : 'not so favorite'}</button></div>\r\n        <br/>\r\n    </div>\r\n}\r\n\r\nexport default Music;","import {updateObjectInArray} from \"../utils/object-helpers\";\r\nimport {ComposersType} from \"../Types/Types\";\r\n\r\nconst SELECT_COMPOSER = 'SELECT_COMPOSER';\r\n\r\nlet initialState = {\r\n    composers: [\r\n{id: 0, name: 'Johann Sebastian Bach', isLike: false},\r\n{id: 1, name: 'Wolfgang Amadeus Mozart', isLike: false},\r\n{id: 2, name: 'Ludwig van Beethoven', isLike: false}\r\n] as Array<ComposersType>\r\n}\r\ntype InitialStateActionType = typeof initialState\r\n\r\nconst musicReducer = (state = initialState, action:any): InitialStateActionType => {\r\n\r\n    switch (action.type) {\r\n        case SELECT_COMPOSER:\r\n            return {\r\n                ...state, composers:\r\n                 state.composers.map(u => {\r\n                    if (u.id === action.id) {\r\n                        return {...u, isLike: !u.isLike}\r\n                    } else {\r\n                        return {\r\n                            ...u, isLike: false\r\n                        }\r\n                    }\r\n                    return u\r\n                })\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const selectComposer = (id:number) => ({type: SELECT_COMPOSER, id});\r\n\r\nexport default musicReducer;","import {connect} from \"react-redux\";\r\nimport Music from \"./Music\";\r\nimport {selectComposer} from \"../../redux/music-reducer\";\r\nimport {ComposersType, FriendsType} from \"../../Types/Types\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\n\r\ntype MapStatePropsType = {\r\n    composers: Array<ComposersType>\r\n}\r\ntype MapDispatchPropsType = {\r\n    selectComposer: (id: number) => void\r\n}\r\ntype OwnPropsType = {\r\n}\r\nconst mapStateToProps = (state: AppStateType): MapStatePropsType =>{\r\n    return {\r\n        composers: state.musicReducer.composers,\r\n    }\r\n}\r\n\r\nconst MusicContainer = connect<MapStatePropsType, MapDispatchPropsType, OwnPropsType, AppStateType>\r\n(mapStateToProps, {selectComposer})(Music);\r\n\r\nexport default MusicContainer;","import React from 'react';\r\n\r\nconst Settings = () => {\r\n    return (                 \r\n        <div>\r\n          Settings\r\n            <Form/>\r\n            <Toggle />\r\n        </div>\r\n\r\n    )\r\n}\r\nfunction Form() {\r\n    function handleSubmit(e: React.FormEvent<HTMLFormElement>) {\r\n        e.preventDefault();\r\n        alert(' .');\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <button type=\"submit\"></button>\r\n        </form>\r\n    );\r\n}\r\n\r\ninterface IProps {\r\n}\r\n\r\ninterface IState {\r\n    isToggleOn?: boolean;\r\n}\r\n\r\nclass Toggle extends React.Component<IProps, IState> {\r\n    constructor(props: IProps) {\r\n        super(props);\r\n        this.state = {isToggleOn: true};\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n\r\n    handleClick() {\r\n        this.setState((prevState) => ({\r\n            isToggleOn: !prevState.isToggleOn\r\n        }));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <button onClick={this.handleClick}>\r\n                {this.state.isToggleOn ? '' : ''}\r\n            </button>\r\n        );\r\n    }\r\n}\r\nexport default Settings;","import React, {useState} from 'react';\r\nimport s from '../Friends.module.css';\r\n\r\ntype PropsType = {\r\n    name: string,\r\n    src: string | undefined\r\n}\r\nconst FriendsItem: React.FC<PropsType> = (props) => {\r\n    const [isSubscribed, setSubscribed] = useState(false)\r\n    const getSubscribe = (bool: boolean) => bool ? 'a': undefined\r\n    return <div className={s.item}>\r\n        <div><img src={props.src} /></div>\r\n        {props.name} <br/>\r\n        <button onClick={() => setSubscribed(!isSubscribed)} className={getSubscribe(!isSubscribed) && s.button}   >\r\n            {isSubscribed ? 'subscribed' : 'subscribe!'}\r\n        </button>\r\n\r\n\r\n    </div>;\r\n}\r\n\r\nexport default FriendsItem;","import React from 'react';\r\nimport s from './Friends.module.css'\r\nimport FriendsItem from \"./FriendsItem/FriendsItem\";\r\nimport {FriendsType} from \"../../Types/Types\";\r\n\r\ntype PropsType = {\r\n   friends: Array<FriendsType>\r\n}\r\n\r\nconst Friends: React.FC<PropsType> = (props) => {\r\n\r\n    let friendsItems = props.friends.map(d => <FriendsItem key={d.id} name={d.name} src={d.src} />)\r\n\r\n    return (\r\n        <div className={s.dialogs}>\r\n\r\n        <div>\r\n          Friends:\r\n        </div>\r\n\r\n        <div className={s.dialogItems}>\r\n            {friendsItems}\r\n        </div>\r\n\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Friends;","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Friends from \"./Friends\";\r\nimport {FriendsType} from \"../../Types/Types\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\n\r\ntype MapStatePropsType = {\r\n    friends: Array<FriendsType>\r\n}\r\ntype MapDispatchPropsType = {\r\n}\r\ntype OwnPropsType = {\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStatePropsType => {\r\n    return {\r\n        friends: state.sidebar.friends,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = () => {\r\n    return {\r\n        }\r\n}\r\n\r\nconst FriendsContainer = connect<MapStatePropsType, MapDispatchPropsType, OwnPropsType, AppStateType>\r\n(mapStateToProps, mapDispatchToProps)(Friends);\r\n\r\nexport default FriendsContainer;","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport s from './Navbar.module.css';\r\nimport {DialogsType} from \"../../Types/Types\";\r\n\r\ntype MapStatePropsType = {\r\n    dialogs: Array<DialogsType>\r\n}\r\ntype MapDispatchPropsType = {\r\n}\r\ntype OwnPropsType = {\r\n}\r\ntype PropsType = OwnPropsType & MapStatePropsType & MapDispatchPropsType\r\n\r\n\r\nconst Navbar: React.FC<PropsType> = ({dialogs}) => {\r\n\r\n                return <nav className={s.nav}>\r\n                    <div>\r\n                        <NavLink to='/Profile' activeClassName={s.activeLink}>Profile</NavLink>\r\n                    </div>\r\n                    <div>\r\n                        <NavLink exact to='/Dialogs' activeClassName={s.activeLink}>Message</NavLink>\r\n                    </div>\r\n                    <div>\r\n                        <NavLink to='/News' activeClassName={s.activeLink}>News</NavLink>\r\n                    </div>\r\n                    <div>\r\n                        <NavLink to='/Music' activeClassName={s.activeLink}>Music</NavLink>\r\n                        <br/>\r\n                        <br/>\r\n                    </div>\r\n                    <div>\r\n                        <NavLink to='/Users' activeClassName={s.activeLink}>Users</NavLink>\r\n                        <br/>\r\n                        <br/>\r\n                    </div>\r\n                    <div>\r\n                        <NavLink to='/Settings' activeClassName={s.activeLink}>Settings</NavLink>\r\n                    </div>\r\n                    <br/>\r\n                    <br/>\r\n                    <div>\r\n                        <NavLink to='/Friends' activeClassName={s.activeLink}>Friends</NavLink>\r\n                        <br/>\r\n                        <br/>\r\n                        <ul className={s.friend}>\r\n                            <li>\r\n                                <img src={dialogs[1].src}/> <br/>\r\n                                {dialogs[1].name}\r\n                            </li>\r\n                            <li><img src={dialogs[2].src}/> <br/>\r\n                                {dialogs[2].name}\r\n                            </li>\r\n                            <li>\r\n                                <img src={dialogs[3].src}/><br/>\r\n                                {dialogs[3].name}\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <div>\r\n                        <NavLink to='/Login' activeClassName={s.activeLink}>Login</NavLink>\r\n                    </div>\r\n                </nav>\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Navbar from \"./Navbar\";\r\nimport {DialogsType} from \"../../Types/Types\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\n\r\ntype MapStatePropsType = {\r\n    dialogs: Array<DialogsType>\r\n}\r\ntype MapDispatchPropsType = {\r\n}\r\ntype OwnPropsType = {\r\n}\r\ntype PropsType = OwnPropsType & MapStatePropsType & MapDispatchPropsType\r\n\r\nconst mapStateToProps = (state: AppStateType): PropsType =>{\r\n    return {\r\n        dialogs: state.dialogPage.dialogs,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = () => {\r\n    return {\r\n    }\r\n}\r\n\r\nexport const NavbarContainer = connect<MapStatePropsType, MapDispatchPropsType, OwnPropsType, AppStateType>\r\n(mapStateToProps, mapDispatchToProps)(Navbar);","import React, {ChangeEvent, useEffect, useState} from 'react';\r\nimport {Typography} from 'antd';\r\n\r\nconst {Text,  Paragraph} = Typography;\r\n\r\n\r\ntype PropsType = {\r\n    userId: number\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n    isOwner: boolean\r\n    isAuth: boolean\r\n}\r\n\r\nconst ProfileStatusWithHooks: React.FC<PropsType> = (props) => {\r\n\r\n    const [editMode, setEditMode] = useState(false);\r\n    const activateEditMode = () => setEditMode(true);\r\n\r\n    const [status, setStatus] = useState(props.status);\r\n    const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => setStatus(e.currentTarget.value);\r\n\r\n    const inActivateMode = () => {\r\n            props.updateStatus(editableStr);\r\n    }\r\n\r\n    const [editableStr, setEditableStr] = useState(props.status)\r\n    return (\r\n        <>\r\n            <Text type=\"secondary\">status:\r\n                {(props.isOwner && props.isAuth)\r\n                    ?\r\n                    <Paragraph\r\n                    // @ts-ignore\r\n                        onBlur={inActivateMode}\r\n                        editable={{tooltip: 'click to edit status',  onChange: setEditableStr }}>\r\n                        {editableStr\r\n                            ?\r\n                            <span>{editableStr}</span>\r\n                            :\r\n                            <span>{props.status}</span>\r\n                        }\r\n\r\n                    </Paragraph>\r\n                    :\r\n                    <Paragraph>{props.status}</Paragraph>\r\n                }\r\n\r\n            </Text>\r\n        </>\r\n    )\r\n}\r\nexport default ProfileStatusWithHooks;\r\n{/*{!editMode &&*/}\r\n\r\n{/*    <Button type={\"text\"} disabled={!props.isOwner || !props.isAuth} onClick={activateEditMode}>{props.status}</Button>*/}\r\n{/*}*/}\r\n\r\n{/*{editMode &&*/}\r\n{/*    <Input placeholder=\"Basic usage\"*/}\r\n{/*           autoFocus={true}*/}\r\n{/*           onBlur={inActivateMode}*/}\r\n{/*           onChange={onStatusChange}*/}\r\n{/*           value={status}*/}\r\n{/*    />}*/}\r\n","export default __webpack_public_path__ + \"static/media/add.1c5dfb8a.svg\";","import React, {useEffect, useState} from 'react';\r\nimport s from '../../../components/Common/InputField/FormsContorls.module.css'\r\nimport style from './ProfileInfo.module.css'\r\nimport {Field, reduxForm} from 'redux-form'\r\nimport {renderInput} from \"../../Common/InputField/FormsControls\";\r\nimport {maxLength33, required} from \"../../../utils/validators\";\r\nimport {ProfileType} from \"../../../Types/Types\";\r\nimport {Button, Divider, Space, Typography} from \"antd\";\r\nconst { Title, Text } = Typography\r\n\r\ntype OwnPropsType = {\r\n   }\r\ntype MapStatePropsType = {\r\n    submitting: boolean\r\n    error: string\r\n    initialValues: ProfileType\r\n}\r\ntype MapDispatchPropsType = {\r\n    handleSubmit: any\r\n}\r\ntype PropsType = OwnPropsType & MapStatePropsType & MapDispatchPropsType\r\nconst ProfileDataForm: React.FC<PropsType> = ({ handleSubmit, submitting, error, initialValues }) => {\r\n    return ( <Space direction=\"vertical\">\r\n            <form onSubmit={ handleSubmit }>\r\n                    <button className={style.button} type=\"submit\" disabled={submitting}><Button>save</Button></button>\r\n                <Divider/>\r\n                <div>\r\n                    {error && <span className={s.formSummaryError}>{error}</span>}\r\n                </div>\r\n                <div>\r\n                    <Field name=\"fullName\" type=\"text\" label=\"Full Name\" component={renderInput}\r\n                           validate={[required, maxLength33]}/>\r\n                </div>\r\n                <div>\r\n                    <Field name=\"aboutMe\" type=\"text\" label=\"About Me\" component={renderInput}\r\n                           validate={[required, maxLength33]}/>\r\n                </div>\r\n                <div>\r\n                    <Field name=\"lookingForAJob\" component='input' type=\"checkbox\"/>Looking for a job\r\n                </div>\r\n                <div>\r\n                <Field name=\"lookingForAJobDescription\" type=\"text\"\r\n                       label=\"My professional skills\" component={renderInput}\r\n                       validate={[required, maxLength33]}/>\r\n                </div>\r\n                <Divider/>\r\n                <div><Title level={5}>Contacts:</Title>  {\r\n                    Object.keys(initialValues.contacts).map(key => {\r\n                    return (<div className={style.contact} key={key}>\r\n                            <Field name={'contacts.' + key} type=\"text\" label={key} component={renderInput}\r\n                                   validate={[]} />  </div>\r\n                    )\r\n                })}\r\n                </div>\r\n            </form>\r\n        </Space>\r\n    )\r\n}\r\n\r\n// @ts-ignore\r\nconst ProfileDataFormRedux = reduxForm({form: 'profile'})(ProfileDataForm)\r\n\r\nexport default ProfileDataFormRedux;","import React, {ChangeEvent, useEffect, useState} from 'react';\r\nimport s from './ProfileInfo.module.css'\r\nimport Preloader from \"../../Common/Preloader/Preloader\";\r\nimport userPhoto from \"../../../assets/images/user.png\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\nimport arrow from '../../../assets/images/add.svg'\r\nimport ProfileDataFormRedux from \"./ProfileDataForm\";\r\nimport Follow from \"../../Common/Follow/Follow\";\r\nimport {ProfileType, UserType} from \"../../../Types/Types\";\r\nimport {Col, Row, Typography, Image, Button, Space, Divider} from \"antd\";\r\nconst { Title, Text } = Typography\r\n\r\n\r\ntype OwnPropsType = {}\r\ntype MapStatePropsType = {\r\n    isAuth: boolean\r\n    profile: ProfileType | null\r\n    status: string\r\n    isFollowingProgress: Array<number>\r\n    followed: boolean\r\n    isOwner: boolean\r\n    ownerOnHisPage: boolean\r\n}\r\ntype MapDispatchPropsType = {\r\n    updateStatus: (status: string) => void\r\n    savePhoto: (photoFile: any) => void\r\n    updateProfile: (profile: ProfileType, userId: number) => void\r\n    follow: (userId: number) => void\r\n    unFollow: (userId: number) => void\r\n}\r\n\r\nexport type PropsType = OwnPropsType & MapStatePropsType & MapDispatchPropsType\r\n\r\nconst ProfileInfo: React.FC<PropsType> = (props) => {\r\n    const onMainPhotoSelected = (e: any) => {\r\n        if (e.target.files.length) {\r\n            props.savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    const [editMode, setEditMode] = useState(false);\r\n\r\n    const [followed, setFollow] = useState(props.followed);\r\n\r\n    const follow = (userId: number) => {\r\n        props.follow(userId);\r\n        setFollow(true);\r\n    }\r\n\r\n    const unFollow = (userId: number) => {\r\n        props.unFollow(userId);\r\n        setFollow(false);\r\n    }\r\n\r\n    useEffect(() => {\r\n        setFollow(props.followed)\r\n    }, [props.followed])\r\n\r\n    const submit = (values: any) => {\r\n        // @ts-ignore\r\n        props.updateProfile(values, props.profile.userId).then(() => {\r\n            setEditMode(false);\r\n        })\r\n    }\r\n\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    } else {\r\n        return (\r\n            <Row gutter={{ xs: 8, sm: 16, md: 24, lg: 32  }}>\r\n\r\n                <Col className=\"gutter-row\" xs={{span: 24, offset: 0}} sm={{span: 9, offset: 1}} md={{ span: 10, offset: 0 }}>\r\n                    <Title level={2}>{props.profile.fullName}</Title>\r\n                    <ProfileStatusWithHooks userId={props.profile.userId}\r\n                                            status={props.status} updateStatus={props.updateStatus}\r\n                                            isOwner={props.isOwner} isAuth={props.isAuth}/>\r\n                        <Image width={170} style={{borderRadius: '3px'}} src={props.profile.photos.large || userPhoto}/>\r\n                    {props.isOwner && props.isAuth &&\r\n                    <div className={s.inputWrapper}>\r\n                        <input type={'file'} id={'input__file'} className={s.inputFile} onChange={onMainPhotoSelected}/>\r\n                        <label htmlFor={\"input__file\"} className={s.inputFileButton}>\r\n                        <span className={s.inputFileIconWrapper}>\r\n                            <img className={s.inputFileIcon} src={arrow}/>\r\n                            </span>\r\n                            <span className={s.inputFileButtonText}>Download your photo</span>\r\n                        </label>\r\n                    </div>} <div><br/></div>\r\n                </Col>\r\n\r\n                <Col className=\"gutter-row\" xs={{span: 24, offset: 0}} sm={{span: 12, offset: 2}} md={{ span: 10, offset: 1 }}>\r\n                    <Title level={3}>Profile</Title>\r\n\r\n                    {props.isOwner && !editMode && props.isAuth &&\r\n                    <><Button onClick={() => setEditMode(true)}>edit profile</Button><Divider/></>}\r\n\r\n                    {editMode\r\n                        ? <ProfileDataFormRedux onSubmit={submit} initialValues={props.profile}/>\r\n                        : <ProfileData profile={props.profile}/>}\r\n                    <div><br/></div>\r\n\r\n                    {(!props.isOwner && !props.ownerOnHisPage) &&\r\n                    <div>{followed\r\n                        ? <span>Subscribed to {props.profile.fullName}</span>\r\n                        : <span>You can subscribe to {props.profile.fullName}</span>}\r\n\r\n                        <Follow followed={followed} userId={props.profile.userId}\r\n                                isFollowingProgress={props.isFollowingProgress}\r\n                                unFollow={unFollow} follow={follow}/>\r\n                    </div>}\r\n                    <div><br/></div>\r\n                </Col>\r\n\r\n            </Row>\r\n        )\r\n    }\r\n}\r\n\r\ntype ProfileDataType = {\r\n    profile: ProfileType\r\n}\r\n\r\nconst ProfileData: React.FC<ProfileDataType> = (props) => {\r\n    return (\r\n        <Space direction=\"vertical\">\r\n            <Text><b>Full name:</b> <i>{props.profile.fullName}</i></Text>\r\n            <Text><b>About me:</b> <i>{props.profile.aboutMe}</i></Text>\r\n            <Text>{props.profile.lookingForAJob ? <span><i>I am looking for a job</i></span> :\r\n                <span><i>I have a job</i></span>}</Text>\r\n            <Text><b>My professional skills:</b> <i>{props.profile.lookingForAJobDescription}</i></Text>\r\n            <Text>\r\n                Contacts: {Object.keys(props.profile.contacts).map((key: string) => {\r\n                return <Contact key={key} contactTitle={key}\r\n                                contactValue={props.profile.contacts[key]}/>\r\n            })}\r\n            </Text>\r\n        </Space>\r\n    )\r\n}\r\n\r\ntype ContactType = {\r\n    contactTitle: string\r\n    contactValue: string\r\n}\r\nconst Contact: React.FC<ContactType> = ({contactTitle, contactValue}) => {\r\n    return (\r\n        <div className={s.contact}>\r\n            <span className={s.contactTitle} >{contactTitle}</span>: <i>{contactValue}</i>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo;","export default __webpack_public_path__ + \"static/media/16-voshod.8083ccce.jpg\";","import React from 'react';\r\nimport s from './ProfileHead.module.css'\r\nimport image from './../../../assets/images/16-voshod.jpg'\r\n\r\nimport {Layout} from \"antd\";\r\nconst {Header} = Layout\r\ntype PropsType = {}\r\n\r\nconst ProfileHead: React.FC<PropsType> = React.memo(props => {\r\n\r\n  return (\r\n\r\n        <img className={s.top} src={image} />\r\n\r\n  )\r\n})\r\n\r\nexport default ProfileHead;","import {profileAPI, ResultCodeEnum, usersAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport { PhotosType, PostsType, ProfileType} from \"../Types/Types\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {AppStateType} from \"./redux-store\";\r\nconst ADD_POST = 'social_network/profile/ADD_POST';\r\nconst SET_USER_PROFILE = 'social_network/profile/SET_USER_PROFILE';\r\nconst SET_USER_FOLLOW = 'social_network/profile/SET_USER_FOLLOW';\r\nconst SET_USER_STATUS = 'social_network/profile/SET_USER_STATUS';\r\nconst DELETE_POST = 'social_network/profile/DELETE_POST';\r\nconst SET_USER_PHOTO_SUCCESS = 'social_network/profile/SET_USER_PHOTO_SUCCESS';\r\nconst UPDATE_USER_PROFILE = 'social_network/profile/UPDATE_USER_PROFILE';\r\nconst LIKE_INCREMENT = 'social_network/profile/LIKE_INCREMENT'\r\nconst DISLIKE_INCREMENT = 'social_network/profile/DISLIKE_INCREMENT'\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Hi, how are you?', likeCount: 11, disLikeCount: 2},\r\n        {id: 2, message: 'Okay', likeCount: 13, disLikeCount: 3},\r\n        {id: 3, message: 'Right', likeCount: 15, disLikeCount: 1 }\r\n    ] as Array<PostsType>,\r\n    newPostState: 'YOY' as string,\r\n    profile: null as ProfileType | null,\r\n    followed: true as boolean,\r\n    status: ''\r\n};\r\ntype initialStateType = typeof initialState;\r\ntype ActionType = AddPostActionCreatorActionType | DeletePostActionCreatorActionType | setUserProfileActionType |\r\n    setUserFollowActionType | setUserStatusActionType | setUserPhotoSuccessActionType | likeIncrementType | disLikeIncrementType\r\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, unknown, ActionType>\r\nconst profileReducer = (state: initialStateType = initialState, action: any) : initialStateType  => {\r\n\r\n    switch (action.type) {\r\n        case  ADD_POST:\r\n            const countId = state.posts.length + 1;\r\n\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts,\r\n                    {\r\n                        id: countId,\r\n                        message: action.text,\r\n                        likeCount: Math.floor(Math.random()*3) + countId,\r\n                        disLikeCount: Math.floor(Math.random()*2)\r\n                    }]\r\n            };\r\n\r\n        case LIKE_INCREMENT:\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts.map(p => (p.id === action.id)\r\n                    ? {\r\n                    id: p.id,\r\n                    message: p.message,\r\n                    likeCount: p.likeCount + 1,\r\n                    disLikeCount: p.disLikeCount}\r\n                    : p\r\n                )]\r\n            };\r\n        case DISLIKE_INCREMENT:\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts.map(p => (p.id === action.id)\r\n                    ? {\r\n                        id: p.id,\r\n                        message: p.message,\r\n                        likeCount: p.likeCount,\r\n                        disLikeCount: p.disLikeCount + 1\r\n                    }\r\n                    : p\r\n                )]\r\n            };\r\n\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts.filter(p => p.id !== action.postId)]\r\n            }\r\n\r\n        case SET_USER_PROFILE:\r\n            return {...state, profile: action.profile}\r\n\r\n        case SET_USER_PHOTO_SUCCESS:\r\n            return {...state, profile: {...state.profile, photos: action.photos} as ProfileType}\r\n\r\n        case UPDATE_USER_PROFILE:\r\n            return {\r\n                ...state, profile: {\r\n                    ...state.profile,\r\n                    fullName: action.profile.FullName,\r\n                    aboutMe: action.profile.AboutMe,\r\n                    lookingForAJob: action.profile.lookingForAJob,\r\n                    lookingForAJobDescription: action.profile.lookingForAJobDescription\r\n                } as ProfileType\r\n            }\r\n\r\n        case SET_USER_FOLLOW:\r\n            return {...state, followed: action.followed}\r\n\r\n        case SET_USER_STATUS:\r\n            return {...state, status: action.status}\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\ntype AddPostActionCreatorActionType = {\r\n    type: typeof ADD_POST,\r\n    text: string\r\n}\r\nexport const addPostActionCreator = (text: string): AddPostActionCreatorActionType => ({type: ADD_POST, text});\r\n\r\ntype DeletePostActionCreatorActionType = {\r\n    type: typeof DELETE_POST,\r\n    postId: number\r\n}\r\nexport const deletePostActionCreator = (postId: number): DeletePostActionCreatorActionType =>\r\n    ({type: DELETE_POST, postId});\r\n\r\ntype setUserProfileActionType = {\r\n    type: typeof SET_USER_PROFILE,\r\n    profile: ProfileType\r\n}\r\nconst setUserProfile = (profile: ProfileType): setUserProfileActionType => ({type: SET_USER_PROFILE, profile})\r\ntype setUserFollowActionType = {\r\n    type: typeof SET_USER_FOLLOW,\r\n    followed: boolean\r\n}\r\nconst setUserFollow = (followed: boolean):setUserFollowActionType => ({type: SET_USER_FOLLOW, followed})\r\ntype setUserStatusActionType = {\r\n    type: typeof SET_USER_STATUS,\r\n    status: string\r\n}\r\nconst setUserStatus = (status: string): setUserStatusActionType => ({type: SET_USER_STATUS, status})\r\ntype setUserPhotoSuccessActionType = {\r\n    type: typeof SET_USER_PHOTO_SUCCESS,\r\n    photos: PhotosType\r\n}\r\nconst setUserPhotoSuccess = (photos: PhotosType):setUserPhotoSuccessActionType => ({type: SET_USER_PHOTO_SUCCESS, photos})\r\n\r\ntype likeIncrementType = {\r\n    type: typeof LIKE_INCREMENT\r\n    id: number\r\n}\r\nexport const likeIncrement  = (id: number) => ({\r\n    type: LIKE_INCREMENT,\r\n    id: id\r\n})\r\ntype disLikeIncrementType = {\r\n    type: typeof DISLIKE_INCREMENT\r\n    id: number\r\n}\r\nexport const disLikeIncrement  = (id: number) => ({\r\n    type: DISLIKE_INCREMENT,\r\n    id: id\r\n})\r\nexport const getUserProfile = (userId: number): ThunkType =>\r\n    async (dispatch) => {\r\n        let response = await profileAPI.getProfile(userId);\r\n        dispatch(setUserProfile(response));\r\n    }\r\n\r\nexport const savePhoto = (photoFile: any): ThunkType =>\r\n    async (dispatch) => {\r\n        let response = await profileAPI.uploadPhoto(photoFile);\r\n        if (response.resultCode === ResultCodeEnum.Success) {\r\n            dispatch(setUserPhotoSuccess(response.data.photos))\r\n        }\r\n    }\r\n\r\nexport const getUserFollow = (userId: number): ThunkType =>\r\n    async (dispatch) => {\r\n        let response = await usersAPI.getFollow(userId);\r\n        dispatch(setUserFollow(response));\r\n    }\r\n\r\nexport const getStatus = (userId: number): ThunkType =>\r\n    async (dispatch) => {\r\n        let response = await profileAPI.getStatus(userId);\r\n        dispatch(setUserStatus(response))\r\n    }\r\nexport const updateStatus = (status: string): ThunkType =>\r\n    async (dispatch) => {\r\n        try {\r\n            let response = await profileAPI.updateStatus(status);\r\n            if (response.resultCode === ResultCodeEnum.Success) {\r\n                dispatch(setUserStatus(status))\r\n            }\r\n        } catch (e) {\r\n            console.error(\"Error occurred: \")\r\n        }\r\n    }\r\nexport const updateProfile = (profile: ProfileType, userId: number): ThunkType =>\r\n    async (dispatch) => {\r\n        // const userId = store.getState().auth.id;\r\n        const response = await profileAPI.updateProfile(profile);\r\n        if (response.resultCode === ResultCodeEnum.Success) {\r\n            dispatch(getUserProfile(userId))\r\n        } else if (response.resultCode === ResultCodeEnum.Error) {\r\n            const message = response.messages.length > 0 ? response.messages[0] : 'Same error';\r\n            const getLastResponseWorld = (str: string) => {\r\n                return str.split('>').map((word) => word[0].toLowerCase() + word.slice(1, word.length - 1))[1];\r\n            }\r\n            const action = stopSubmit('profile', {contacts: {[getLastResponseWorld(message)]: message}});\r\n          // @ts-ignore\r\n            dispatch(action);\r\n            return Promise.reject(message)\r\n        }\r\n    }\r\nexport default profileReducer;","import React, {useState} from 'react';\r\nimport s from './Post.module.css'\r\nimport {Typography, Space, Row, Col} from 'antd';\r\nimport { LikeOutlined, DislikeOutlined, LikeTwoTone, DislikeTwoTone  } from '@ant-design/icons'\r\nconst { Text, Link } = Typography;\r\n\r\ntype PropsType = {\r\n    message: string\r\n    likeCount: number\r\n    disLikeCount: number\r\n    likeIncrement: (id: number) => void\r\n    disLikeIncrement: (id: number) => void\r\n    id: number\r\n}\r\n\r\nconst Post: React.FC<PropsType> = (props) => {\r\n    const [like, setLike] = useState(true)\r\n    const likeIncrement  = () => {\r\n        setLike(true)\r\n        props.likeIncrement(props.id)\r\n    }\r\n    const disLikeIncrement  = () => {\r\n        setLike(false)\r\n        props.disLikeIncrement(props.id)\r\n    }\r\n    return (                 \r\n        <Row>\r\n            <Col span={14}>\r\n            <Text keyboard>{props.message} </Text>\r\n            </Col>\r\n            <Col span={3} offset={1} className={s.position}>\r\n            <span className={`${s.item} ${s.active}`}>{props.likeCount} </span>\r\n            <span> {like\r\n                ?\r\n                <LikeTwoTone twoToneColor=\"#eb2f96\"  onClick={likeIncrement}/>\r\n                :\r\n                <LikeTwoTone   onClick={likeIncrement}/>\r\n            }\r\n            </span>\r\n            </Col>\r\n            <Col span={4} offset={2}>\r\n            <span>{!like\r\n                ?\r\n                <DislikeTwoTone twoToneColor=\"#eb2f96\"  onClick={disLikeIncrement}/>\r\n                :\r\n                <DislikeTwoTone   onClick={disLikeIncrement}/>\r\n            }\r\n            <span className={`${s.item} ${s.active}`}>{props.disLikeCount} </span>\r\n            </span>\r\n            </Col>\r\n        </Row>\r\n    )\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport s from './MyPosts.module.css';\r\nimport Post from \"./Post/Post\";\r\nimport {Field, reduxForm, reset} from \"redux-form\";\r\nimport {renderField} from \"../../Common/InputField/FormsControls\";\r\nimport {maxLength33, required} from \"../../../utils/validators\";\r\nimport {PostsType} from \"../../../Types/Types\";\r\nimport {Divider, Form, Typography, Input, Button, Checkbox } from \"antd\";\r\n\r\nconst { Title, Text } = Typography\r\n\r\ntype PropsType = {\r\n    handleSubmit: any\r\n}\r\nconst PostForm: React.FC<PropsType> = ({ handleSubmit }) => {\r\n    return (\r\n        <form onSubmit={ handleSubmit }>\r\n                <Field name=\"post\"\r\n                       component={renderField }\r\n                       label='Enter you message'\r\n                       validate={[required, maxLength33]}\r\n                />\r\n                <button>Add post</button>\r\n        </form>\r\n    )\r\n}\r\ntype PostType = {\r\n    addPost: any\r\n}\r\nconst Messages: React.FC<PostType> = ({addPost}) => {\r\n\r\n    const [form] = Form.useForm()\r\n\r\n    const onFinish = (values: any) => {\r\n        addPost(values.message)\r\n        form.resetFields()\r\n        console.log('Success:', values);\r\n    };\r\n\r\n    const onFinishFailed = (errorInfo: any) => {\r\n        console.log('Failed:', errorInfo);\r\n    };\r\n\r\n    return (\r\n        <Form\r\n            form={form}\r\n            name=\"basic\"\r\n            layout=\"vertical\"\r\n            labelCol={{ span: 8 }}\r\n            wrapperCol={{ span: 16 }}\r\n            initialValues={{ remember: true }}\r\n            onFinish={onFinish}\r\n            onFinishFailed={onFinishFailed}\r\n            autoComplete=\"off\"\r\n            placeholder=\"message\"\r\n        >\r\n            <Form.Item\r\n                label=\"Message\"\r\n                name=\"message\"\r\n                rules={[{ required: true, message: 'Please input your message!' }]}\r\n            >\r\n                <Input />\r\n            </Form.Item>\r\n\r\n            <Form.Item wrapperCol={{ offset: 0, span: 16 }}>\r\n                <Button type=\"primary\"  htmlType=\"submit\">\r\n                    Add post\r\n                </Button>\r\n            </Form.Item>\r\n        </Form>\r\n    );\r\n};\r\n\r\n\r\nconst afterSubmit = (result: string, dispatch: any) =>\r\n    dispatch(reset('post'));\r\n\r\nconst PostFormRedux  = reduxForm({form: 'post', onSubmitSuccess: afterSubmit})(PostForm)\r\n\r\ntype MyPostsType = {\r\n    addPost: (text:string) => void\r\n    posts: Array<PostsType>\r\n    likeIncrement: (id: number) => void\r\n    disLikeIncrement: (id: number) => void\r\n}\r\nconst MyPosts: React.FC<MyPostsType> = props => {\r\n\r\n    const addPost = (post:string) => {\r\n        return props.addPost(post)\r\n    }\r\n    const submit = (values:any) => {\r\n        addPost(values.post);\r\n    }\r\n             return (\r\n                <>\r\n                    <Title level={3}>My posts</Title>\r\n                    <Messages addPost={addPost}/>\r\n\r\n                    {[...props.posts].reverse().map(m => <Post likeIncrement={props.likeIncrement}\r\n                                                               disLikeIncrement={props.disLikeIncrement}\r\n                                                               message={m.message}\r\n                                                               likeCount={m.likeCount}\r\n                                                               disLikeCount={m.disLikeCount}\r\n                                                               key={m.id}\r\n                                                               id={m.id}/>)}\r\n                </>\r\n            )\r\n    }\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport {\r\n    addPostActionCreator,\r\n    disLikeIncrement,\r\n    likeIncrement\r\n} from \"../../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {PostsType, ProfileType, UserType} from \"../../../Types/Types\";\r\nimport {AppStateType} from \"../../../redux/redux-store\";\r\n\r\ntype OwnPropsType = {\r\n\r\n}\r\ntype MapStatePropsType = {\r\n   posts: Array<PostsType>\r\n   newPostState: string\r\n}\r\ntype MapDispatchPropsType = {\r\n    addPost: (text: string) => void\r\n    likeIncrement: (id: number) => void\r\n    disLikeIncrement: (id: number) => void\r\n}\r\nexport type PropsType = OwnPropsType & MapStatePropsType & MapDispatchPropsType\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStatePropsType => {\r\n    return {\r\n        posts: state.postPage.posts,\r\n        newPostState: state.postPage.newPostState,\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch: any) => {\r\n    return {\r\n        addPost: (text: string) => {\r\n            dispatch(addPostActionCreator(text))\r\n        },\r\n        likeIncrement: (id: number) => {\r\n            dispatch(likeIncrement(id))\r\n        },\r\n        disLikeIncrement: (id: number) => {\r\n            dispatch(disLikeIncrement(id))\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport default connect<MapStatePropsType, MapDispatchPropsType, OwnPropsType, AppStateType>\r\n(mapStateToProps, mapDispatchToProps)(MyPosts);","import React from 'react';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport ProfileHead from './ProfileHead/ProfileHead';\r\nimport s from './Profile.module.css';\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport {ProfileType} from \"../../Types/Types\";\r\nimport {Col, Divider, Layout, Row} from \"antd\";\r\n\r\nconst {Content, Sider, Footer} = Layout\r\n\r\ntype OwnPropsType = {}\r\ntype MapStatePropsType = {\r\n    isAuth: boolean\r\n    profile: ProfileType | null\r\n    status: string\r\n    isFollowingProgress: Array<number>\r\n    followed: boolean\r\n    isOwner: boolean\r\n    ownerOnHisPage: boolean\r\n}\r\ntype MapDispatchPropsType = {\r\n    updateStatus: (status: string) => void\r\n    savePhoto: (photoFile: any) => void\r\n    updateProfile: (profile: ProfileType, userId: number) => void\r\n    follow: (userId: number) => void\r\n    unFollow: (userId: number) => void\r\n\r\n}\r\n\r\nexport type PropsType = OwnPropsType & MapStatePropsType & MapDispatchPropsType\r\n\r\nconst Profile: React.FC<PropsType> = (props) => {\r\n\r\n    return (\r\n\r\n        <Layout>\r\n            <ProfileHead/>\r\n            <Divider />\r\n            <Row gutter={{ xs: 8, sm: 16, md: 24, lg: 32  }}>\r\n                <Col className=\"gutter-row\" xs={{span: 24, offset: 0}}\r\n                     sm={{span: 22, offset: 2}}\r\n                     xl={{ span: 14, offset: 0 }}>\r\n                    <ProfileInfo profile={props.profile} follow={props.follow}\r\n                                 status={props.status} updateStatus={props.updateStatus}\r\n                                 isOwner={props.isOwner} savePhoto={props.savePhoto}\r\n                                 updateProfile={props.updateProfile} followed={props.followed}\r\n                                 isFollowingProgress={props.isFollowingProgress}\r\n                                 unFollow={props.unFollow} isAuth={props.isAuth}\r\n                                 ownerOnHisPage={props.ownerOnHisPage}\r\n                    /></Col>\r\n                <Col className=\"gutter-row\" xs={{span: 24, offset: 0}}\r\n                     sm={{span: 22, offset: 2}}\r\n                     xl={{ span: 8, offset: 1 }}>\r\n                    <MyPostsContainer/>\r\n                </Col>\r\n            </Row>\r\n            <Divider></Divider>\r\n        </Layout>\r\n\r\n    )\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {\r\n    getUserProfile,\r\n    getUserFollow,\r\n    getStatus,\r\n    updateStatus,\r\n    savePhoto,\r\n    updateProfile\r\n} from \"../../redux/profile-reducer\";\r\nimport {withAuthRedirect} from \"../../HOC/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {ownUserName} from \"../../redux/auth-reducer\";\r\nimport {follow, unFollow} from \"../../redux/users-reducer\";\r\nimport {ProfileType, UserType} from \"../../Types/Types\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport exp from \"constants\";\r\n\r\ntype matchType = {\r\n    isExact: boolean\r\n    params: {\r\n        userId: any\r\n    }\r\n    path: string\r\n    url: string\r\n}\r\ntype OwnPropsType = {\r\n    match: matchType\r\n    history: Array<string>\r\n    users: Array<UserType>\r\n    isOwner: boolean\r\n}\r\ntype MapStatePropsType = {\r\n    isAuth: boolean\r\n    id: number\r\n    profile: ProfileType | null\r\n    status: string\r\n    isFollowingProgress: Array<number>\r\n    followed: boolean\r\n\r\n}\r\ntype MapDispatchPropsType = {\r\n    getUserProfile: (userId: number) => void\r\n    getUserFollow: (userId: number) => void\r\n    getStatus: (userId: number) => void\r\n    updateStatus: (status: string) => void\r\n    savePhoto: (photoFile: any) => void\r\n    updateProfile: (profile: ProfileType, userId: number ) => void\r\n    follow: (userId: number) => void\r\n    unFollow: (userId: number) => void\r\n    ownUserName: () => void\r\n}\r\n\r\nexport type PropsType = OwnPropsType & MapStatePropsType & MapDispatchPropsType\r\n\r\nclass ProfileContainer extends React.Component<PropsType> {\r\n    setPreviousState() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId && this.props.isAuth) {\r\n            userId = this.props.id;\r\n            if (!userId) {\r\n                this.props.history.push('/Login')\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId);\r\n        this.props.getUserFollow(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n    isOwnerOnHisPage() {\r\n\r\n            if (+this.props.match.params.userId === this.props.id) {\r\n               this.ownerOnHisPage = true\r\n            }\r\n            else if (+this.props.match.params.userId !== this.props.id)\r\n                this.ownerOnHisPage = false\r\n    }\r\n    ownerOnHisPage = false\r\n    componentDidMount() {\r\n        this.setPreviousState()\r\n        this.isOwnerOnHisPage()\r\n    }\r\n    componentDidUpdate(prevProps: PropsType, prevState: MapStatePropsType ) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId)\r\n            this.setPreviousState()\r\n            this.isOwnerOnHisPage()\r\n    }\r\n    isOwner(uId: number | undefined):boolean {\r\n        if (uId === undefined) {\r\n            return true\r\n        } else return false\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile\r\n                     ownerOnHisPage={this.ownerOnHisPage}\r\n                     isOwner={this.isOwner(this.props.match.params.userId)}\r\n                     profile={this.props.profile}\r\n                     status={this.props.status}\r\n                     updateStatus={this.props.updateStatus}\r\n                     savePhoto={this.props.savePhoto}\r\n                     updateProfile={this.props.updateProfile}\r\n                     follow={this.props.follow}\r\n                     unFollow={this.props.unFollow}\r\n                     isFollowingProgress={this.props.isFollowingProgress}\r\n                     followed={this.props.followed} isAuth={this.props.isAuth}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStatePropsType => ({\r\n    profile: state.postPage.profile,\r\n    followed: state.postPage.followed,\r\n    status: state.postPage.status,\r\n    id: state.auth.id,\r\n    isAuth: state.auth.isAuth,\r\n    isFollowingProgress: state.usersPage.isFollowingProgress\r\n});\r\n\r\nexport default compose(\r\n    withAuthRedirect,\r\n    connect<MapStatePropsType, MapDispatchPropsType, OwnPropsType, AppStateType>\r\n    (mapStateToProps, {\r\n        ownUserName, getUserProfile,\r\n        getUserFollow, getStatus, updateStatus, savePhoto, updateProfile, follow,\r\n        unFollow\r\n    }),\r\n    withRouter\r\n)(ProfileContainer);","import { createSelector } from \"reselect\";\r\nimport {AppStateType} from \"./redux-store\";\r\nimport {profileAPI} from \"../api/api\";\r\n\r\nexport const selectIsAuth = (state: AppStateType) => state.auth.isAuth;\r\nexport const selectCurrentUserLogin = (state: AppStateType) => state.auth.login;\r\nexport const selectCurrentUserId = (state: AppStateType) => state.auth.id;\r\nexport const selectAuthProfile = (state: AppStateType) => state.auth.profile;\r\n\r\n","import React, {useEffect, useState} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport {Avatar, Button, Col, Layout, Menu, Row, Space, Typography} from \"antd\";\r\nimport {UserOutlined} from '@ant-design/icons';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {\r\n    selectAuthProfile,\r\n    selectCurrentUserId,\r\n    selectCurrentUserLogin,\r\n    selectIsAuth,\r\n} from \"../../redux/auth-selectors\";\r\nimport {getUserProfile, userSignOut} from \"../../redux/auth-reducer\";\r\n\r\nconst {Content, Sider, Footer} = Layout\r\ntype PropsType = {\r\n\r\n}\r\n\r\nconst Header: React.FC<PropsType> = () => {\r\n\r\n    const isAuth = useSelector(selectIsAuth)\r\n    const login = useSelector(selectCurrentUserLogin)\r\n    const ID = useSelector(selectCurrentUserId)\r\n    const profile = useSelector(selectAuthProfile)\r\n\r\n    // const [profile, setProfile] = useState(profileInit)\r\n\r\n    useEffect( () => {\r\n        getUserProfileLocal(ID)\r\n        }, [ID] )\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const getUserProfileLocal = (ID: number) => {\r\n        dispatch(getUserProfile(ID))\r\n    }\r\n\r\n    const logoutCallback = () => {\r\n        dispatch(userSignOut())\r\n    }\r\n\r\n    const { Text } = Typography\r\n    const { Header } = Layout\r\n\r\n    const header = <><Header className=\"header\">\r\n\r\n        <div className=\"logo\"/>\r\n        <Row>\r\n            <Col xs={{span: 8, offset: 0}} sm={{span: 13, offset: 0}} md={{span: 16, offset: 0}} lg={{span: 19, offset: 0}}>\r\n\r\n                <Menu theme=\"dark\" mode=\"horizontal\"  defaultSelectedKeys={['1']} >\r\n                    <Menu.Item key=\"1\"><Link to='/Users'>Developers</Link></Menu.Item>\r\n                </Menu>\r\n\r\n            </Col>\r\n            <Col xs={{span: 10, offset: 3}} sm={{span: 7, offset: 0}} md={{span: 5, offset: 0}} lg={{span: 3, offset: 0}}> {\r\n                isAuth\r\n                    ?\r\n                    <Space direction=\"horizontal\">\r\n                        <Button onClick={logoutCallback}>Log out</Button>\r\n\r\n                        <Text type=\"success\"><Link to='/Profile'>{login}</Link></Text>\r\n                        {\r\n                            profile?.photos.small\r\n                                ?\r\n                                <Avatar\r\n                                    src={profile?.photos.small}/>\r\n                                :\r\n                                <Avatar alt={login || ''} style={{backgroundColor: '#87d068'}} icon={<UserOutlined/>}/>\r\n                        }\r\n                    </Space>\r\n                    :\r\n                    <Button><Link to={'/Login'}>Login</Link></Button>\r\n            }\r\n            </Col>\r\n        </Row>\r\n    </Header></>;\r\n    return header\r\n}\r\n\r\nexport default Header;","import {ownUserName} from \"./auth-reducer\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {AppStateType} from \"./redux-store\";\r\n\r\nconst INITIALIZATION_SUCCESSFUL= 'social_network/app/INITIALIZATION_SUCCESSFUL';\r\n\r\nexport type InitialStateType = {\r\n    initialization: boolean,\r\n}\r\n\r\nconst initialState: InitialStateType = {\r\n    initialization: false,\r\n}\r\ntype ActionType = InitializationSuccessfulActionType\r\nconst appReducer = (state = initialState, action: ActionType ) : InitialStateType => {\r\n\r\n    switch (action.type) {\r\n        case INITIALIZATION_SUCCESSFUL:\r\n            return {\r\n                ...state,\r\n                initialization: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\ntype  InitializationSuccessfulActionType = {\r\n    type: typeof INITIALIZATION_SUCCESSFUL\r\n}\r\nconst  initializationSuccessful = (): InitializationSuccessfulActionType => ({type: INITIALIZATION_SUCCESSFUL});\r\n\r\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, unknown, ActionType>\r\nexport const getInitialization = (): ThunkType =>\r\n   async (dispatch) => {\r\n        const promise = dispatch(ownUserName());\r\n        await  Promise.all([promise]);\r\n        dispatch(initializationSuccessful());\r\n    }\r\n\r\nexport default appReducer;","import {FriendsType} from \"../Types/Types\";\r\n\r\nconst initialState = {\r\n    friends: [\r\n        {id: 1, name: 'Dima', src: 'https://avatarko.ru/img/avatar/9/serial_8759.jpg'},\r\n        {id: 2, name: 'Andrey', src: 'https://avatarko.ru/img/avatar/33/muzhchina_32048.jpg'},\r\n        {id: 3, name: 'Sveta', src: 'https://avatarko.ru/img/avatar/26/devushka_blondinka_kapyushon_25929.jpg'},\r\n        {id: 4, name: 'Sasha', src: 'https://avatarko.ru/img/avatar/5/devushka_4066.jpg'},\r\n        {id: 5, name: 'Victor', src: 'https://avatarko.ru/img/avatar/26/muzhchina_serfing_25374.jpg'},\r\n    ] as Array<FriendsType>\r\n};\r\ntype InitialStateActionType = typeof initialState;\r\n\r\nconst sidebarReducer = (state: InitialStateActionType = initialState, action: any) => {\r\n    switch (action.type) {\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogReducer from \"./dialog-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\nimport musicReducer from \"./music-reducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n    initializeReducer: appReducer,\r\n    postPage: profileReducer,\r\n    dialogPage: dialogReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    musicReducer: musicReducer,\r\n    auth: authReducer,\r\n    form: formReducer\r\n})\r\n\r\ntype RootReducerType = typeof rootReducer\r\nexport type AppStateType = ReturnType<RootReducerType>\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nlet store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n// @ts-ignore\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import {AppStateType} from \"../../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\nimport {userSignIn, userSignOut} from \"../../redux/auth-reducer\";\r\nimport Login from \"./Login\";\r\n\r\ntype MapStatePropsType = {\r\n    isAuth: boolean\r\n    captchaURL: string | null\r\n    serverMessage: string | null\r\n}\r\ntype MapDispatchPropsType = {\r\n}\r\ntype OwnPropsType = {\r\n}\r\ntype PropsType = OwnPropsType & MapStatePropsType & MapDispatchPropsType\r\n\r\n\r\nconst mapStateToProps = (state: AppStateType): PropsType =>{\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        captchaURL: state.auth.captchaURL,\r\n        serverMessage: state.auth.serverMessage\r\n    }\r\n}\r\n\r\nconst LoginContainer = connect<MapStatePropsType, MapDispatchPropsType, OwnPropsType, AppStateType>\r\n(mapStateToProps, {userSignIn, userSignOut})(Login);\r\n\r\nexport default LoginContainer","import React, {Suspense} from 'react';\r\nimport {BrowserRouter, HashRouter, Link, Redirect, Route, Switch, withRouter} from 'react-router-dom';\r\nimport './App.css';\r\nimport News from './components/News/News';\r\nimport Music from './components/Music/MusicContainer';\r\nimport Settings from './components/Settings/Settings';\r\nimport FriendsContainer from \"./components/Friends/FriendsContainer\";\r\nimport {NavbarContainer} from \"./components/Navbar/NavbarContainer\";\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport Header from \"./components/Header/Header\";\r\nimport {connect, Provider, useSelector} from \"react-redux\";\r\nimport Preloader from \"./components/Common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {getInitialization} from \"./redux/app-reducer\";\r\nimport store from \"./redux/redux-store\";\r\nimport LoginContainer from \"./components/Login/LoginContainer\";\r\nimport 'antd/dist/antd.css';\r\nimport {Layout, Menu, Breadcrumb, Typography} from 'antd';\r\nimport {ProfileOutlined, UsergroupAddOutlined, LoginOutlined} from '@ant-design/icons';\r\nimport { userSignOut } from './redux/auth-reducer';\r\n\r\nconst {SubMenu} = Menu;\r\nconst {Content, Sider, Footer} = Layout\r\nconst {Title} = Typography\r\nconst UsersContainer = React.lazy(() => import(\"./components/Users/UsersContainer\"));\r\nconst Login = React.lazy(() => import(\"./components/Login/Login\"));\r\nconst Dialogs = React.lazy(() => import('./components/Dialog/Dialogs'));\r\n\r\n\r\nclass App extends React.Component {\r\n    catchAllUnhandledErrors = (e) => {\r\n        console.error(\"Error occurred: \" + e.reason.message);\r\n        return false;\r\n    }\r\n    componentDidMount() {\r\n        this.props.getInitialization();\r\n        window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\r\n    }\r\n    signOut = () => {\r\n        this.props.userSignOut()\r\n    }\r\n    state = {\r\n        collapsed: false,\r\n    };\r\n\r\n    onCollapse = collapsed => {\r\n        this.setState({ collapsed });\r\n    };\r\n\r\n    render() {\r\n\r\n        if (!this.props.initialization) {\r\n            return <Preloader/>\r\n        }\r\n\r\n        const { collapsed } = this.state;\r\n        const pathname = this.props.location.pathname.split('').splice(1, this.props.location.pathname.length).join('')\r\n\r\n        return (\r\n\r\n            <Layout >\r\n                <Header  />\r\n                <Layout >\r\n                    <Sider theme='light' collapsedWidth={50} collapsible collapsed={collapsed} onCollapse={this.onCollapse} breakpoint={\"lg\"}>\r\n                        <Menu\r\n                            mode=\"inline\"\r\n                            style={{height: '100%', borderRight: 0}}\r\n                        >\r\n                            <SubMenu key=\"sub1\" icon={<ProfileOutlined />} title=\"My profile\">\r\n                                <Menu.Item key=\"1\"><Link to='/Profile' >Profile</Link></Menu.Item>\r\n                                <Menu.Item key=\"2\"><Link to='/Dialogs' >Message</Link></Menu.Item>\r\n                                <Menu.Item key=\"3\"><Link to='/News' >News</Link></Menu.Item>\r\n                                <Menu.Item key=\"4\"><Link to='/Music'>Music</Link></Menu.Item>\r\n                            </SubMenu>\r\n                            <SubMenu key=\"sub2\" icon={<UsergroupAddOutlined />} title=\"Developers\">\r\n                                <Menu.Item key=\"5\"><Link to='/Users'>Users</Link></Menu.Item>\r\n                                <Menu.Item key=\"6\"><Link to='/Friends'>Friends</Link></Menu.Item>\r\n                            </SubMenu>\r\n                            <SubMenu key=\"sub3\" icon={<LoginOutlined />} title=\"Authentication\">\r\n                                <Menu.Item key=\"9\">\r\n                                    {!this.props.isAuth\r\n                                        ?\r\n                                        <Link to='/Login'>Login</Link>\r\n                                        :\r\n                                        <div onClick={this.signOut}>Log out</div>\r\n                                    }\r\n                                </Menu.Item>\r\n                            </SubMenu>\r\n                        </Menu>\r\n                    </Sider>\r\n                    <Layout style={{padding: '0 24px 24px',}}>\r\n                        <Breadcrumb style={{margin: '16px 0'}}>\r\n                            <Breadcrumb.Item><Link to='/Profile'>Home</Link></Breadcrumb.Item>\r\n                            <Breadcrumb.Item>{pathname}</Breadcrumb.Item>\r\n                        </Breadcrumb>\r\n                        <Content\r\n                            className=\"site-layout-background\"\r\n                            style={{\r\n                                padding: 12,\r\n                                margin: 0,\r\n                                minHeight: 280,\r\n\r\n                            }}\r\n                        >\r\n                            <Switch>\r\n                                <Route exact path='/' render={() => <Redirect to={\"/Profile\"}/>} />\r\n                                <Route path='/Profile/:userId?' render={() => <ProfileContainer/>}/>\r\n                                <Route path='/News' render={() => <News/>}/>\r\n                                <Route path='/Music' render={() => <Music/>}/>\r\n                                <Route path='/Settings' render={() => <Settings/>}/>\r\n                                <Route path='/Friends' render={() => <FriendsContainer/>}/>\r\n                                <Route path='/Dialogs'\r\n                                       render={() => <Suspense fallback={<Preloader/>}><Dialogs/></Suspense>}/>\r\n                                <Route path='/Users'\r\n                                       render={() => <Suspense fallback={<Preloader/>}>\r\n                                           <UsersContainer pageTitle={'Users'}/></Suspense>}/>\r\n                                <Route path='/Login'\r\n                                       render={() => <Suspense fallback={<Preloader/>}><LoginContainer/></Suspense>}/>\r\n                                <Route exact path='/*' render={() => <Title type={1}>404 PAGE NOT FOUND<br/><br/>\r\n                                    <a href={\"/Profile\"} type={\"link\"}>HOME</a></Title>}/>\r\n                            </Switch>\r\n                        </Content>\r\n                        <Footer style={{ textAlign: 'center' }}>Social Network 2021 Created by Elem</Footer>\r\n                    </Layout>\r\n                </Layout>\r\n            </Layout>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialization: state.initializeReducer.initialization,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nconst AppContainer = compose(withRouter,\r\n    connect(mapStateToProps, {getInitialization, userSignOut}))(App);\r\n/*basename={process.env.PUBLIC_URL}*/\r\nconst SamuraiJSApp = () => {\r\n    return <HashRouter>\r\n        <Provider store={store}>\r\n            <AppContainer/>\r\n        </Provider>\r\n    </HashRouter>\r\n}\r\nexport default SamuraiJSApp;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport SamuraiJSApp from \"./App\";\r\n\r\n// let rerenderEntireTree = () => {\r\n\r\n    ReactDOM.render(<SamuraiJSApp/>, document.getElementById('root')\r\n    );\r\n// }\r\n\r\nreportWebVitals();\r\n// rerenderEntireTree(store.getState());\r\n// rerenderEntireTree()\r\n// store.subscribe( () => {\r\n//     // let state = store.getState();\r\n//     rerenderEntireTree();\r\n//     // rerenderEntireTree(state);\r\n// } );\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n\r\n","import {authAPI, profileAPI, ResultCodeEnum, ResultCodeForCaptcha, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {AppStateType} from \"./redux-store\";\r\nimport {ProfileType} from \"../Types/Types\";\r\n\r\n\r\nconst SET_USER_DATA = 'social_network/auth/SET_USER_DATA';\r\nconst GET_CAPTCHA_URL = 'social_network/auth/GET_CAPTCHA_URL';\r\nconst GET_PROFILE = 'social_network/auth/GET_PROFILE';\r\n\r\ntype InitialStateType = {\r\n    id: number,\r\n    email: string | null,\r\n    login: string | null,\r\n    password: string | null,\r\n    rememberMe: boolean,\r\n    isAuth: boolean,\r\n    serverMessage: string | null,\r\n    captchaURL: string | null\r\n    profile: ProfileType | null\r\n}\r\n\r\nlet initialState: InitialStateType = {\r\n    id: 0,\r\n    email: null,\r\n    login: null,\r\n    password: null,\r\n    rememberMe: false,\r\n    isAuth: false,\r\n    serverMessage: null,\r\n    captchaURL: null,\r\n    profile: null\r\n}\r\ntype ActionType = SetAuthUserDataActionType | GetCaptchaURLActionType | GetProfileActionType\r\n\r\nconst authReducer = (state = initialState, action: any) : InitialStateType => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case GET_CAPTCHA_URL:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        case GET_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\ntype SetAuthUserDataActionPayloadType = {\r\n    id: number,\r\n    email: string | null,\r\n    login: string | null,\r\n    isAuth: boolean\r\n}\r\ntype SetAuthUserDataActionType = {\r\n    type: typeof SET_USER_DATA,\r\n    payload: SetAuthUserDataActionPayloadType\r\n}\r\nconst setAuthUserData = (id: number, email: string | null, login: string | null, isAuth: boolean)\r\n    : SetAuthUserDataActionType => ({\r\n    type: SET_USER_DATA,\r\n    payload: {id, email, login, isAuth}\r\n});\r\ntype GetProfileActionType = {\r\n    type: typeof GET_PROFILE,\r\n    profile: ProfileType\r\n}\r\nconst getProfileUserData = (profile: ProfileType)\r\n    : GetProfileActionType => ({\r\n    type: GET_PROFILE,\r\n    profile: profile\r\n});\r\n\r\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, unknown, ActionType>\r\n\r\nexport const getUserProfile = (userId: number): ThunkType =>\r\n    async (dispatch) => {\r\n        let profile = await profileAPI.getProfile(userId);\r\n        dispatch(getProfileUserData(profile));\r\n    }\r\n\r\nexport const ownUserName = (): ThunkType =>\r\n    async (dispatch) => {\r\n        let meData = await authAPI.me();\r\n        if (meData.resultCode === ResultCodeEnum.Success) {\r\n            let {id, email, login} = meData.data;\r\n            dispatch(setAuthUserData(id, email, login, true));\r\n        }\r\n    }\r\ntype GetCaptchaURLActionType = {\r\n    type: typeof GET_CAPTCHA_URL,\r\n    payload: {captchaURL: string}\r\n}\r\nconst getCaptchaURL = (captchaURL: string) : GetCaptchaURLActionType => ({type: GET_CAPTCHA_URL, payload: {captchaURL}});\r\n\r\nexport const userSignIn = (login: string, password: string, rememberMe=false, captcha: string | null = null): ThunkType =>\r\n    async (dispatch: any) => {\r\n        let authLogin = await authAPI.login(login, password, rememberMe, captcha);\r\n        // dispatch(deleteCaptchaURL());\r\n        if (authLogin.resultCode === ResultCodeEnum.Success) {\r\n            dispatch(ownUserName());\r\n        } else if (authLogin.resultCode === ResultCodeForCaptcha.CaptchaIsRequired) {\r\n            let action = stopSubmit('login', {captcha: 'Enter the captcha'});\r\n            dispatch(action);\r\n            dispatch(captchaURL());\r\n        } else if (authLogin.resultCode === ResultCodeEnum.Error) {\r\n            let message = authLogin.messages.length > 0 ? authLogin.messages[0] : 'Same error';\r\n            let action = stopSubmit('login', {_error: message});\r\n            dispatch(action);\r\n        }\r\n    }\r\n\r\nexport const userSignOut = (): ThunkType =>\r\n    async (dispatch: any) => {\r\n        let response = await authAPI.exit()\r\n        if (response.resultCode === ResultCodeEnum.Success) {\r\n            dispatch(setAuthUserData(0, null, null, false));\r\n        }\r\n    }\r\nconst captchaURL = (): ThunkType =>\r\n    async (dispatch: any) => {\r\n        let response = await securityAPI.captcha()\r\n        if (response.url) {\r\n            dispatch(getCaptchaURL(response.url));\r\n        }\r\n    }\r\n\r\nexport default authReducer;","import React from \"react\";\r\nimport s from './FormsContorls.module.css'\r\nimport { Typography } from 'antd';\r\n\r\nconst { Text } = Typography;\r\n\r\ntype PropsType = {\r\n    input: Array<string>,\r\n    label: string,\r\n    type: any,\r\n    meta: any\r\n}\r\nexport const renderField: React.FC<PropsType> =  ({\r\n                         input,\r\n                         label,\r\n                         meta: { touched, error, warning }\r\n                     }) =>  (\r\n        <div className={s.formControl + ' ' + (touched && error && s.error)}>\r\n            <label></label>\r\n            <div>\r\n                <textarea className={s.textarea} {...input} placeholder={label} />\r\n                <br/>\r\n                {touched &&\r\n                ((error && <span>{error}</span>) ||\r\n                    (warning && <span>{warning}</span>))}\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n\r\nexport const renderInput: React.FC<PropsType> = ({   input,\r\n                                label,\r\n                                type,\r\n                                meta: { touched, error, warning }\r\n                            }) => (\r\n    <div className={s.formControl + ' ' + (touched && error && s.error)}>\r\n        <label><Text type='secondary'>{label}</Text></label>\r\n        <div >\r\n            <input {...input} className={s.textarea} placeholder={label} type={type} />\r\n            <br/>\r\n            {touched &&\r\n            ((error && <span>{error}</span>) ||\r\n                (warning && <span>{warning}</span>))}\r\n        </div>\r\n    </div>\r\n)","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsContorls_formControl__3ZweW\",\"error\":\"FormsContorls_error__2NuWs\",\"formSummaryError\":\"FormsContorls_formSummaryError__3d2rM\",\"textarea\":\"FormsContorls_textarea__2h2hl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"ProfileInfo_avatar__3VVhM\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3K8b5\",\"fullName\":\"ProfileInfo_fullName__aqRdG\",\"inputWrapper\":\"ProfileInfo_inputWrapper__1htHj\",\"inputFile\":\"ProfileInfo_inputFile__1RUI1\",\"inputFileIconWrapper\":\"ProfileInfo_inputFileIconWrapper__32luE\",\"inputFileButtonText\":\"ProfileInfo_inputFileButtonText__2fbFu\",\"inputFileButton\":\"ProfileInfo_inputFileButton__1JqAo\",\"inputFileIcon\":\"ProfileInfo_inputFileIcon__vL0vn\",\"contact\":\"ProfileInfo_contact__3hgQr\",\"contactTitle\":\"ProfileInfo_contactTitle__1m8bw\",\"button\":\"ProfileInfo_button__1osaD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"Navbar_layout__3XpBs\",\"nav\":\"Navbar_nav__2Qh1K\",\"activeLink\":\"Navbar_activeLink__1w08l\",\"friend\":\"Navbar_friend__1S1Y2\"};","\r\nimport React from \"react\";\r\nimport styles from './Preloader.module.css'\r\n\r\nimport {Spin} from 'antd';\r\nimport {LoadingOutlined} from '@ant-design/icons';\r\n\r\nconst antIcon = <LoadingOutlined style={{fontSize: 72}} spin/>;\r\n\r\n\r\nconst Preloader = () => {\r\n    return (\r\n        <div className={styles.preload}>\r\n            <Spin indicator={antIcon}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;"],"sourceRoot":""}